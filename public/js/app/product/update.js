(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{nXv2:function(t,e,s){"use strict";s.r(e);var i=s("L2JU"),o=s("i8R7");function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c={data:function(){return{isLoading:!1,isProcessing:!1,isDownloading:!1,isUpdating:!1}},computed:n(n(n({},Object(i.c)("config",["configs","vars"])),Object(i.c)("product",["product","updateTips","isDownloaded"])),{},{formData:function(){return{build:this.product.nextReleaseBuild,version:this.product.nextReleaseVersion}}}),methods:n(n({},Object(i.b)("product",["PostSupport","DownloadApp","UpdateApp"])),{},{getFileSize:function(t){return Object(o.a)(t)},confirmUpdate:function(){var t=this;swtAlert.fire({title:"Are you sure?",text:"This will update this application to the latest version.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, update!",cancelButtonText:"No, cancel!"}).then((function(e){e.value&&t.update()}))},confirmDownload:function(t){var e=this,s=0===t?"This will download the latest version of the application.":"This will download and update the application to the latest version.";swtAlert.fire({title:"Are you sure?",text:s,icon:"warning",showCancelButton:!0,confirmButtonText:0===t?"Yes, download!":"Yes, update!",cancelButtonText:"No, cancel!"}).then((function(s){s.value&&e.download(t)}))},download:function(t){var e=this;this.isProcessing=!0,this.isDownloading=!0,this.isUpdating=!1,this.DownloadApp().then((function(s){e.isDownloading=!1,e.isUpdating=!1,e.$toasted.success(s.message,e.$toastConfig.success),t?e.update():e.isProcessing=!1})).catch((function(t){e.isLoading=!1,formUtil.handleErrors(t),e.isProcessing=!1,e.isDownloading=!1,e.isUpdating=!1}))},update:function(){var t=this;this.isProcessing=!0,this.isDownloading=!1,this.isUpdating=!0,this.UpdateApp(this.formData).then((function(e){t.$toasted.success(e.message,t.$toastConfig.success),setTimeout((function(){location.reload()}),2e3)})).catch((function(e){t.isLoading=!1,formUtil.handleErrors(e),t.isProcessing=!1,t.isDownloading=!1,t.isUpdating=!1}))}})},l=s("KHd+"),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-container",{staticClass:"d-flex align-items-center",attrs:{boxed:"","with-loader":"","min-height":"full","is-loading":t.isLoading||!t.product.currentVersion,"loader-color":t.vars.loaderColor}},[t.product.currentVersion===t.product.latestVersion?s("div",{staticClass:"text-center mt-2"},[s("h3",{staticClass:"text-muted mb-3"},[t._v("No update available!")]),t._v(" "),s("p",{staticClass:"text-muted"},[t._v("We are constantly working on new features and fixes. We release new update after completing the development and thorough testing. Kindly check later for new updates.")]),t._v(" "),s("div",{staticClass:"mt-5 mt-2"},[s("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"appDashboard"}}},[t._v(t._s(t.$t("general.go_to_dashboard")))])],1)]):t.isProcessing?s("div",{staticClass:"w-100 text-center"},[s("h5",{staticClass:"text-warning"},[t._v(t._s(t.$t("product.dont_do_anything")))]),t._v(" "),t.isDownloading?s("h4",{staticClass:"my-4"},[t._v(t._s(t.$t("product.update_size"))+" ("+t._s(t.getFileSize(t.product.nextReleaseSize))+") - "+t._s(t.$t("product.downloading"))+"...")]):t._e(),t._v(" "),t.isUpdating?s("h4",{staticClass:"my-4"},[t._v(t._s(t.$t("product.applying_updates"))+"...")]):t._e(),t._v(" "),s("div",{staticClass:"d-flex justify-content-center"},[s("animated-loader",{attrs:{"is-loading":t.isProcessing,"loader-color":t.vars.loaderColor,"overlay-color":"transparent",size:"inline"}})],1)]):s("div",{staticClass:"w-100"},[s("div",{domProps:{innerHTML:t._s(t.updateTips)}}),t._v(" "),s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col-12 col-md-4"},[s("div",{staticClass:"label-group"},[s("label",{staticClass:"text-muted"},[t._v("Version Available")]),t._v(" "),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.product.nextReleaseVersion))])])]),t._v(" "),s("div",{staticClass:"col-12 col-md-4"},[s("div",{staticClass:"label-group"},[s("label",{staticClass:"text-muted"},[t._v("Date of Release")]),t._v(" "),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t._f("moment")(t.product.nextReleaseDate,t.vars.defaultDateFormat)))])])]),t._v(" "),s("div",{staticClass:"col-12 col-md-4"},[s("div",{staticClass:"label-group"},[s("label",{staticClass:"text-muted"},[t._v("Update Size")]),t._v(" "),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.getFileSize(t.product.nextReleaseSize)))])])])]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.product.nextReleaseChangeLog)}}),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),t.isDownloaded?s("p",{staticClass:"text-info my-2"},[t._v(t._s(t.$t("product.update_downloaded")))]):t._e(),t._v(" "),s("div",{staticClass:"row"},[t.isDownloaded?s("div",{staticClass:"col-12 col-md-6"},[s("base-button",{key:"directupdate",staticClass:"my-4",attrs:{type:"button",design:"primary",block:""},on:{click:function(e){return t.confirmUpdate()}}},[t._v(t._s(t.$t("product.apply_updates")))])],1):s("div",{staticClass:"col-12 col-md-6"},[s("base-button",{key:"download",staticClass:"my-4",attrs:{type:"button",design:"success",block:""},on:{click:function(e){return t.confirmDownload(0)}}},[t._v(t._s(t.$t("product.download")))])],1)])])])}),[],!1,null,null,null);e.default=d.exports}}]);
//# sourceMappingURL=update.js.map?id=a56254f5e43cfa80a8e4