(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{lSlZ:function(t,e,a){"use strict";var s=a("L2JU");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={props:{boxed:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},computed:i(i({},Object(s.c)("common",["filters"])),Object(s.c)("config",["vars"])),methods:i(i({},Object(s.b)("common",["ResetFilters"])),{},{submit:function(){var t=i(i(i({},this.$route.query),this.filters),{},{filtered:!0,filtered_at:moment().unix()});this.$router.push({path:this.$route.path,query:t}).catch((function(t){}))},reset:function(){this.ResetFilters(),this.$route.query&&this.$route.query.filtered&&this.$router.push({path:this.$route.path})}})},l=a("KHd+"),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("base-container",{staticClass:"mb-element",attrs:{boxed:t.boxed,"with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[a("close-button",{attrs:{title:t.$t("general.close")},on:{click:function(e){return t.$emit("close")}}}),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._t("default"),t._v(" "),a("div",{staticClass:"form-footer mt-3"},[a("div",{staticClass:"left-side"},[a("base-button",{attrs:{type:"button",design:"light",disabled:t.isLoading},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.$t("general.close")))])],1),t._v(" "),a("div",{staticClass:"right-side"},[a("base-button",{attrs:{type:"button",design:"light",disabled:t.isLoading},on:{click:t.reset}},[t._v(t._s(t.$t("general.clear")))]),t._v(" "),a("base-button",{attrs:{type:"submit",design:"primary",disabled:t.isLoading}},[t._v(t._s(t.$t("general.filter")))])],1)])],2)],1)}),[],!1,null,null,null).exports;function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.a={components:{FilterWrapper:c},props:{preRequisite:{type:Object,default:function(){return{}}},boxed:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){d(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(s.c)("common",["filters"]))}},n9rF:function(t,e,a){"use strict";a.r(e);var s=a("UPFT"),r={extends:a("lSlZ").a},i=a("KHd+"),n={components:{FilterForm:Object(i.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("filter-wrapper",{attrs:{boxed:t.boxed,"is-loading":t.isLoading},on:{close:function(e){return t.$emit("close")}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4 mb-4"},[a("base-input",{attrs:{"auto-focus":"",label:t.$t("contact.props.name"),type:"text",disabled:t.isLoading},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("div",{staticClass:"col-12 col-md-4 mb-4"},[a("base-input",{attrs:{label:t.$t("contact.props.email"),type:"text",disabled:t.isLoading},model:{value:t.filters.email,callback:function(e){t.$set(t.filters,"email",e)},expression:"filters.email"}})],1)])])}),[],!1,null,null,null).exports},extends:s.a,data:function(){return{fields:[{key:"email",label:$t("contact.props.email")},{key:"name",label:$t("contact.props.name"),sort:"name"},{key:"user",label:$t("user.user")},{key:"segments",label:$t("contact.segment.segments")},{key:"createdAt",label:$t("general.created_at"),sort:"created_at",transformer:"date",thClass:"d-none",tdClass:"d-none"},{key:"updatedAt",label:$t("general.updated_at"),sort:"updated_at",transformer:"date",thClass:"d-none",tdClass:"d-none"},{key:"actions",label:"",cantHide:!0,tdClass:"actions-dropdown-wrapper"}],filtersOptions:{name:"",email:""},permissionsRequired:"access-contact",routesRequired:{add:"appContactAdd",import:"appContactImport"},initUrl:"contacts",dataType:"contact"}},mounted:function(){this.updatePageMeta()}},o=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"entity-list-container"},[a("collapse-transition",{attrs:{group:!0,duration:300,tag:"div"}},[t.showFilters?a("filter-form",{key:"filters",attrs:{boxed:!0,"pre-requisite":t.preRequisite,"is-loading":t.isLoading},on:{close:t.toggleFilter}}):t._e(),t._v(" "),a("base-container",{key:"list",staticClass:"p-0",attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[t.isInitialized?a("table-wrapper",{attrs:{meta:t.entities.meta,filtered:t.isFiltered,"add-button-route":"appContactAdd","add-button-permissions":["access-contact"],"entity-title":"contact.contact","entities-title":"contact.contacts","entity-description":"contact.module_description"}},[a("b-table",{directives:[{name:"show",rawName:"v-show",value:t.entities.meta.total,expression:"entities.meta.total"}],ref:"btable",attrs:{items:t.itemsProvider,fields:t.fields,busy:t.isLoading,hover:"",striped:"",stacked:"sm","per-page":t.entities.meta.perPage,"current-page":t.entities.meta.currentPage,filters:null},on:{"update:busy":function(e){t.isLoading=e}},scopedSlots:t._u([{key:"cell(createdAt)",fn:function(t){return[a("view-date",{staticClass:"mb-0",attrs:{value:t.item.createdAt,"with-tz":"",tag:"span"}})]}},{key:"cell(updatedAt)",fn:function(t){return[a("view-date",{staticClass:"mb-0",attrs:{value:t.item.updatedAt,"with-tz":"",tag:"span"}})]}},{key:"cell(segments)",fn:function(e){return[e.item.segments.length<3?a("view-list",{staticClass:"mb-0",attrs:{value:e.item.segments,type:"badge","badge-type":"dark"}}):[a("view-list",{staticClass:"mb-0",attrs:{value:e.item.segments,type:"badge","badge-type":"dark",limit:2},scopedSlots:t._u([{key:"addOnRight",fn:function(){return[a("badge",{staticClass:"mb-0",attrs:{type:"light"}},[t._v("+ "+t._s(e.item.segments.length-2)+" "+t._s(t.$t("contact.segment.segments")))])]},proxy:!0}],null,!0)})]]}},{key:"cell(user)",fn:function(e){return[e.item.user?a("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn btn-sm btn-light",attrs:{to:{name:"appUserView",params:{uuid:e.item.user.uuid}},title:t.$t("global.view",{attribute:t.$t("user.user")})}},[a("i",{staticClass:"fas fa-user"})]):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("table-row-actions",[t.hasPermission("access-contact")?a("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"appContactEdit",params:{uuid:e.item.uuid}}}},[a("i",{staticClass:"fas fa-edit"}),t._v(" "+t._s(t.$t("global.edit",{attribute:t.$t("contact.contact")})))]):t._e(),t._v(" "),t.hasPermission("access-contact")?a("a",{staticClass:"dropdown-item",on:{click:function(a){return a.stopPropagation(),t.deleteEntity(e.item)}}},[a("i",{staticClass:"fas fa-trash"}),t._v(" "+t._s(t.$t("global.delete",{attribute:t.$t("contact.contact")})))]):t._e()],1)]}}],null,!1,677672214)})],1):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=o.exports}}]);
//# sourceMappingURL=index.js.map?id=0be2ad85d7d724e613de