(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"3HR4":function(t,i,e){"use strict";var n=e("o0o1"),o=e.n(n),r=e("L2JU"),a=e("8BOd");e("i8R7");function s(t,i,e,n,o,r,a){try{var s=t[r](a),f=s.value}catch(t){return void e(t)}s.done?i(f):Promise.resolve(f).then(n,o)}function f(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?f(Object(e),!0).forEach((function(i){u(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function u(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}i.a={components:{},data:function(){return{formData:{},formErrors:{},initialFormData:null,initianLength:0,emptyFormData:null,entity:null,preRequisite:{},isLoading:!0,useUserPreference:!1,dataType:null,configType:""}},computed:c(c({},Object(r.c)("config",{configsWithPreference:"configs",configs:"configsOriginal",vars:"vars"})),{},{formHasErrors:function(){var t=!1;return this.formErrors.objForEach((function(i){t=""!==i||t})),t}}),methods:c(c(c(c(c({},Object(r.b)("config",["GetConfig"])),Object(r.b)("user",["GetUser"])),Object(r.b)("navigation",["Generate"])),Object(r.b)("common",["Custom"])),{},{findActualValue:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uuid";return i.find((function(i){return i[e]===t}))||null},submit:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(formUtil.isUnchanged(this.initialFormData,this.formData))return this.$toasted.info(this.$t("general.nothing_changed"),this.$toastConfig.info),!1;this.isLoading=!0,this.formData.hasOwnProperty("type")&&(this.formData.type=this.formData.type.snakeCase());var e=!0===i||this.useUserPreference?a.e:"module"===this.configType?a.d:a.c;"function"==typeof this.beforeSubmit&&this.beforeSubmit(),e(this.formData).then((function(e){(!0===i||t.useUserPreference?t.GetUser:t.GetConfig)().then((function(){t.$toasted.success(e.message,t.$toastConfig),t.initialFormData=_.cloneDeep(t.formData),t.isLoading=!1})).catch((function(i){t.isLoading=!1,t.formErrors=formUtil.handleErrors(i)})),"function"==typeof t.afterSubmit&&t.afterSubmit(),"function"==typeof t.afterSubmitSuccess&&t.afterSubmitSuccess()})).catch((function(i){t.isLoading=!1,t.formErrors=formUtil.handleErrors(i),"function"==typeof t.afterSubmit&&t.afterSubmit(),"function"==typeof t.afterSubmitError&&t.afterSubmitError()}))},reset:function(){var t=this;formUtil.confirmAction().then((function(i){i.value&&(t.formData=Object.assign({},t.formData,_.cloneDeep(t.initialFormData)))}))},unsavedCheck:function(t){formUtil.unsavedCheckAlert(this.initialFormData,this.formData,t)},fillPreRequisite:function(t){var i=this;this.preRequisite.objForEach((function(e,n){i.preRequisite[n]=t.hasOwnProperty(n)?t[n]:e})),this.isLoading=!1},fillFormData:function(){var t=this;this.isLoading=!0;var i=this.useUserPreference?this.configsWithPreference:this.configs;this.formData.type&&i[this.formData.type]&&(this.formData=formUtil.assignValues(this.formData,i[this.formData.type])),this.formData.types&&Array.isArray(this.formData.types)&&this.formData.types.forEach((function(e){t.formData=formUtil.assignValues(t.formData,i[e])})),this.formData.override&&this.formData.objForEach((function(e,n){e&&_.isObject(e)?t.formData[n]=formUtil.assignValues(t.formData[n],i[n]):t.formData[n]=i[n]?i[n]:e})),"function"==typeof this.addNewRow&&"function"==typeof this.addNewRowIfNone&&this.addNewRowIfNone(),this.isLoading=!1},getInitialData:function(t){var i,e=this;return(i=o.a.mark((function i(){var n;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.isLoading=!0,i.prev=1,i.next=4,a.b(Object.keys(e.preRequisite).join(","));case 4:return n=i.sent,e.fillPreRequisite(n),t&&e.$nextTick((function(){t()})),i.abrupt("return",n);case 10:throw i.prev=10,i.t0=i.catch(1),e.isLoading=!1,e.formErrors=formUtil.handleErrors(i.t0),i.t0;case 15:case"end":return i.stop()}}),i,null,[[1,10]])})),function(){var t=this,e=arguments;return new Promise((function(n,o){var r=i.apply(t,e);function a(t){s(r,n,o,a,f,"next",t)}function f(t){s(r,n,o,a,f,"throw",t)}a(void 0)}))})()}}),mounted:function(){this.fillFormData(),this.initialFormData=_.cloneDeep(this.formData)},beforeDestroy:function(){delete this.formData,delete this.formErrors,delete this.preRequisite},beforeRouteLeave:function(t,i,e){this.unsavedCheck(e)}}},lqcv:function(t,i,e){"use strict";e.r(i);var n={extends:e("3HR4").a,data:function(){return{formData:{vapidPublicKey:"",type:"notification"}}},methods:{generate:function(){var t=this;this.isLoading=!0,this.Custom({url:"config/notification",method:"post"}).then((function(i){t.GetConfig().then((function(){t.fillFormData(),t.isLoading=!1})).catch((function(i){t.isLoading=!1,formUtil.handleErrors(i)}))})).catch((function(i){t.isLoading=!1,formUtil.handleErrors(i)}))},showNotification:function(){var t=this;this.isLoading=!0,this.Custom({url:"config/notification"}).then((function(i){t.isLoading=!1})).catch((function(i){t.isLoading=!1,formUtil.handleErrors(i)}))}}},o=e("KHd+"),r=Object(o.a)(n,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("base-container",{attrs:{boxed:"","with-loader":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[e("form",{on:{submit:function(i){return i.preventDefault(),t.submit(i)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-4"},[e("view-single",{attrs:{label:t.$t("config.notification.vapid_public_key"),value:t.formData.vapidPublicKey,"data-classes":"small"}})],1)]),t._v(" "),e("div",{staticClass:"text-right mt-5"},[t.formData.vapidPublicKey?e("base-button",{attrs:{type:"button",design:"info"},on:{click:t.showNotification}},[t._v(t._s(t.$t("config.notification.show_notification")))]):e("base-button",{attrs:{type:"button",design:"primary"},on:{click:t.generate}},[t._v(t._s(t.$t("config.notification.generate_vapid_keys")))])],1)])])}),[],!1,null,null,null);i.default=r.exports}}]);
//# sourceMappingURL=index.js.map?id=188915d2e9017e6e3320