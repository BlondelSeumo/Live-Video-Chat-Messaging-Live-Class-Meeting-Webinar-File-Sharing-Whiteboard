(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"/MoV":function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"g",(function(){return c})),i.d(t,"d",(function(){return d})),i.d(t,"a",(function(){return l})),i.d(t,"f",(function(){return u})),i.d(t,"h",(function(){return m})),i.d(t,"e",(function(){return h})),i.d(t,"b",(function(){return g}));var n=i("g6NE"),o=n.a.getters["config/configs"],a=n.a.getters["config/vars"],s=function(){return{timezone:o.system.timezone,defaultDateFormat:a.defaultDateFormat,defaultDateTimeFormat:a.defaultDateTimeFormat,serverDateFormat:a.serverDateFormat,serverDateTimeFormat:a.serverDateTimeFormat,calendarLocale:{lastDay:a.defaultDateFormat,sameDay:a.defaultTimeFormat,lastWeek:a.defaultDateFormat,sameElse:a.defaultDateFormat}}},r=function(e,t){var i=s(),n=moment(e,i.serverDateFormat);return e?(Array.isArray(e)&&(n=moment(e[0],e[1])),n.format(t||i.defaultDateFormat)):"INVALID DATE STRING"},c=function(e,t){var i=s(),n=moment(e,i.serverTimeFormat);return e?(Array.isArray(e)&&(n=moment(e[0],e[1])),n.format(t||i.defaultTimeFormat)):"INVALID TIME STRING"},d=function(e,t){var i=s(),n=moment(e,i.serverDateTimeFormat);return e?(Array.isArray(e)&&(n=moment(e[0],e[1])),n.format(t||i.defaultDateTimeFormat)):"INVALID DATE TIME STRING"},l=function(e,t){var i=s(),n=moment(e,i.serverDateTimeFormat);return e?(Array.isArray(e)&&(n=moment(e[0],e[1])),n.calendar(t||i.calendarLocale)):"INVALID DATE TIME STRING"},u=function(e,t,i){var n=s();if(!e)return"INVALID DATE STRING";var o=moment.utc(e,n.serverDateFormat);return"NOW"===e&&(o=moment.utc()),Array.isArray(e)&&(o=moment.utc(e[0],e[1])),o.tz(i||n.timezone).format(t||n.defaultDateFormat)},m=function(e,t,i){var n=s(),o=moment.utc("".concat(moment().format(n.serverDateFormat)," ").concat(e),n.serverTimeFormat);return e?(Array.isArray(e)&&(o=moment.utc(e[0],e[1])),o.tz(i||n.timezone).format(t||n.defaultTimeFormat)):"INVALID TIME STRING"},h=function(e,t,i){var n=s();if(!e)return"INVALID DATE TIME STRING";var o=moment.utc(e,n.serverDateTimeFormat);return"NOW"===e&&(o=moment.utc()),Array.isArray(e)&&(o=moment.utc(e[0],e[1])),o.tz(i||n.timezone).format(t||n.defaultDateTimeFormat)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=s(),o=moment.utc(e,n.serverDateTimeFormat);if(!e)return"INVALID DATE TIME STRING";Array.isArray(e)&&(o=moment.utc(e[0],e[1]));var a=o.tz(i||n.timezone);return a=a.calendar(t||n.calendarLocale)}},0:function(e,t){},"0D4p":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("Vjiq"),o=i("vDqi"),a=i.n(o),s=i("eC5B"),r=i.n(s),c=i("g6NE"),d=function(){var e=c.a.getters["config/configs"],t=e.hasOwnProperty("pusher")?e.pusher:null;!window.Echo&&t&&t.pusherAppKey&&(t.debugMode?r.a.logToConsole=!0:r.a.logToConsole=!1,window.Echo=new n.a({broadcaster:"pusher",cluster:t.pusherAppCluster,encrypted:!0,key:t.pusherAppKey,authorizer:function(e,t){return{authorize:function(t,i){a.a.post("/api/broadcasting/auth",{socket_id:t,channel_name:e.name}).then((function(e){e&&e.data?i(!1,e.data):console.error("Invalid Data!")})).catch((function(e){i(!0,e)}))}}}}),window.EchoOpts={subscriptions:{}})}},"1TzJ":function(e,t,i){"use strict";var n=i("p46w"),o=i.n(n),a=i("7Cbv");!function(){var e=1,t=2;function i(i){var n="";switch(i){case e:n=window.name;break;case t:null!=(n=decodeURIComponent(o.a.get("my-application-browser-tab")))&&"undefined"!=n||(n="")}return n}function n(i,n){switch(i){case e:window.name=n;break;case t:o.a.set("my-application-browser-tab",n||"")}}function s(){var o=i(e)||Object(a.a)();n(e,o);var s=i(t),r=(""==s?null:JSON.parse(s))||null;if(null===r||r.timestamp<(new Date).getTime()-5e3||r.guid===o){var c=function(){var e={guid:o,timestamp:(new Date).getTime()};n(t,JSON.stringify(e))};return c(),setInterval(c,500),!1}return!0}window.isDuplicate=function(){return s()},window.addEventListener("beforeunload",(function(){0==s()&&n(t,"")}))}()},"8uEn":function(e,t,i){"use strict";function n(e,t){t||(t={});var i=t.max||100,n=t.boxCount||50,o=t.boxCountRed||5,a=t.boxCountYellow||5,s=t.boxGapFraction||0,r=t.jitter||.02,c=t.width||"auto",d=e.width,l=e.height,u=0,m=e.parentElement,h=e.nextElementSibling||e.previousElementSibling;"auto"!==c&&"parent"!==c||!m.clientWidth?"sibling"===c&&h.clientWidth&&(d=h.clientWidth,e.width=d):(d=m.clientWidth,e.width=d);var g=d/(n+(n+1)*s),f=g*s,v=l-2*f,p=(l-v)/2,b=e.getContext("2d");function C(e,t){return e>n-o?w(e,t)?"rgba(255,47,30,0.9)":"rgba(64,12,8,0.9)":e>n-o-a?w(e,t)?"rgba(255,215,5,0.9)":"rgba(64,53,0,0.9)":w(e,t)?"rgba(53,255,30,0.9)":"rgba(13,64,8,0.9)"}function w(e,t){return e<=Math.ceil(t/i*n)}!function t(){var o=parseInt(e.dataset.val,10);if(u<=o?u+=(o-u)/5:u-=(u-o)/5,r>0&&u>0){var a=Math.random()*r*i;Math.random()>.5&&(a=-a),u+=a}u<0&&(u=0),b.save(),b.beginPath(),b.rect(0,0,d,l),b.fillStyle="rgb(32,32,32)",b.fill(),b.restore(),function(e,t){e.save(),e.translate(p,f);for(var i=0;i<n;i++){var o=(a=i,Math.abs(a)+1);e.beginPath(),e.rect(0,0,g,v),e.fillStyle=C(o,t),e.fill(),e.translate(g+f,0)}var a;e.restore()}(b,u),requestAnimationFrame(t)}()}i.d(t,"a",(function(){return n}))},BcCH:function(e,t,i){"use strict";var n=i("XuX8"),o=new(i.n(n).a);t.a=o},U8Zb:function(e,t,i){"use strict";i.r(t);var n=i("L2JU"),o=i("gFX4"),a=i.n(o),s=i("zWga"),r=i.n(s),c=i("qe5e"),d=(i("vwBX"),i("x18S")),l=i.n(d),u=(i("l4sq"),i("k7+O")),m=i.n(u),h=i("0D4p"),g=i("akQX"),f=i("V0LQ"),v=i("lUM2"),p=i("PCDP"),b=i("/MoV"),C=i("8uEn"),w=(i("1TzJ"),i("kogc"));function y(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach((function(t){L(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var k=document.createElement("script");k.setAttribute("src","/js/EBML.js"),document.head.appendChild(k),window.io=a.a,window.hark=l.a;var x={components:{RTCMultiConnection:r.a},data:function(){return{uuid:null,entity:null,isLoading:!1,prevRoute:null,fullScreenItemId:null,meetingRoomId:null,initUrl:"meetings",fallBackRoute:"login",newMessages:!1,roomIdAlive:!1,showFlipClock:!0,duplicateTab:!1,fullScreenInOn:!1,permissionRejected:!1,needStreamAddOrReplace:!1,membersLive:[],videoList:[],mediaConfigFormData:{},mediaConfigurations:{selectedAudioInput:null,selectedAudioOutput:null,selectedVideoInput:null,activeAudioInput:null,activeVideoInput:null,activeFacingMode:null,selectedResolution:"Auto",facingMode:"Auto",frameRate:"Auto",bandwidth:{audio:256,video:512,screen:300},recording:{type:"video",mimeType:"video/webm",timeSlice:1e3,disableLogs:!1}},mediaDevices:{audioInput:[],audioOutput:[],videoInput:[],resolutions:[{label:"Auto",constraints:{}},{label:"240p",constraints:{width:{max:426,ideal:426},height:{max:240,ideal:240}}},{label:"360p",constraints:{width:{max:640,ideal:640},height:{max:360,ideal:360}}},{label:"720p",constraints:{width:{max:1280,ideal:1280},height:{max:720,ideal:720}}},{label:"1080p",constraints:{width:{max:1920,ideal:1920},height:{max:1080,ideal:1080}}},{label:"4K",constraints:{width:{max:4096,ideal:4096},height:{max:2160,ideal:2160}}}],facingModes:[{uuid:"Auto",label:"Auto"},{uuid:"user",label:"User"},{uuid:"environment",label:"Environment"}],frameRates:[{uuid:"Auto",label:"Auto"},{uuid:30,label:"30 fps"},{uuid:60,label:"60 fps"}]},socketURL:"aHR0cHM6Ly9zaWduYWwua29kZW1pbnQuaW46OTAwMS8=",rtcmConnection:null,localVideo:null,localScreenStreamid:null,localWhiteboardStreamid:null,localGreenRoomStream:null,audioConstraints:{},videoConstraints:{},pageConfigs:{hasAgenda:!0,enableChat:!0,enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,showDeviceConfig:!0,enableScreenSharing:!0,enableRecording:!0,enableHandGesture:!0,enableWhiteboard:!1,footerAutoHide:!1,disableScroll:!1,speechDetection:!0,muteParticipantsOnStart:!1,allowJoiningWithoutDevices:!1,enableFileSharing:!0,enableLinkSharing:!0,layout:"fullpage",lastLayout:"fullpage"},meetingRulesHost:{session:{audio:!1,video:!1,screen:!1,data:!1,oneway:!1},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},autoCloseEntireSession:!1},meetingRulesGuest:{session:{audio:!1,video:!1,screen:!1,data:!1,oneway:!1},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},autoCloseEntireSession:!1},snoozeOpts:[{uuid:5,name:5,type:"m"},{uuid:10,name:10,type:"m"},{uuid:15,name:15,type:"m"},{uuid:30,name:30,type:"m"},{uuid:60,name:1,type:"h"}],isHandUp:!1,recording:!1,recorded:!1,recordingPaused:!1,recordingDuration:null,showDevicesModal:!1,showFileSharing:!1,showWhiteboard:!1,showAgenda:!0,fileSharingConnection:null,canvasDesigner:null,micVolumeActivity:20,meetingRoomNotFound:!1,profile:{uuid:"",username:"",name:""}}},computed:O(O({},Object(n.c)("config",["configs","uiConfigs","vars"])),{},{user:function(){return this.profile},hasVideos:function(){return this.videoList&&this.videoList.length>0?this.videoList.length:0},hasVideosClasses:function(){if(!this.hasVideos)return"has-no-video";var e="has-videos "+(this.pageConfigs.disableScroll?"disable-scroll ":"")+"has-".concat(this.hasVideos,"-videos "),t=this.hasVideos>15?4:this.hasVideos>8?3:this.hasVideos>3?2:1,i=this.hasVideos>20?6:16===this.hasVideos?4:this.hasVideos>12?5:this.hasVideos>9?4:9===this.hasVideos?3:this.hasVideos>6?4:this.hasVideos>4?3:4===this.hasVideos?2:this.hasVideos;return e+(this.hasVideos>20?"has-gt-20-videos":this.hasVideos>12?"has-gt-12-videos":this.hasVideos>4?"has-gt-4-videos":this.hasVideos>1?"has-2-3-videos":"has-1-video")+" has-".concat(t,"-rows has-").concat(i,"-per-row")},liveMembersCount:function(){return this.membersLive.length-1},startDateTimeIsFuture:function(){var e=this.entity&&this.showFlipClock&&this.isStartDateTimeInFuture();return e?this.startCountDown():window.countdownInterval&&clearInterval(window.countdownInterval),e},enableLogs:function(){return this.rtcmConnection&&this.rtcmConnection.enableLogs}}),watch:{liveMembersCount:function(e,t){window.isLiveMeetingDestroyed||e===t||this.meetingRoomCreated(this.entity)}},methods:O(O(O({},Object(n.b)("config",["GetConfig","SetUiConfig"])),Object(n.b)("common",["Init","Get","Custom","GetPreRequisite"])),{},{shareURL:function(){var e=this;if(this.entity){this.$gaEvent("engagement","shareURL","Shown");var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");t+=this.entity.identifier?"/m/".concat(this.entity.identifier):"/app/live/meetings/".concat(this.entity.uuid);var i=this.entity.identifier?"".concat($t("meeting.meeting_code"),': <strong class="ml-2"> ').concat(this.entity.identifier,"</strong>"):null;Object(g.c)({title:$t("meeting.user_inviting_msg",{attribute:this.user.name}),alertTitle:i,alertHtml:"".concat($t("misc.share_alert.text"),"<br>")+"<small class='text-muted'>".concat(t,"</small><br>"),url:t},(function(){e.$gaEvent("engagement","shareURL","Copied"),e.$toasted.success($t("meeting.url_has_been_copied"),e.$toastConfig)}))}},isStartDateTimeInFuture:function(){return this.entity&&this.entity.startDateTime&&moment(this.entity.startDateTime,this.vars.serverDateTimeFormat).isAfter(moment())},startCountDown:function(){var e=this;window.countdownInterval&&clearInterval(window.countdownInterval),window.countdownInterval=window.setInterval((function(){e.isStartDateTimeInFuture()?e.showFlipClock=!0:(e.showFlipClock&&!document.hasFocus()&&Object(g.a)(),e.showFlipClock=!1)}),1e3)},startRecording:function(){var e=this;this.$gaEvent("engagement","startRecording"),this.recording=!0,this.recorded=!1,this.configs.meeting.debugMode?this.mediaConfigurations.recording.disableLogs=!1:this.mediaConfigurations.recording.disableLogs=!0;var t=this.rtcmConnection.recorder;if(!t){var i=[];this.rtcmConnection.streamEvents.selectAll().forEach((function(e){i.push(e.stream)})),t=c(i,this.mediaConfigurations.recording),this.rtcmConnection.recorder=t,t.startRecording();var n=(new Date).getTime();window.recordingDurationInterval&&(this.recordingDuration=null,clearInterval(window.recordingDurationInterval)),window.recordingDurationInterval=window.setInterval((function(){e.recordingDuration=Object(f.b)(((new Date).getTime()-n)/1e3)}),1e3),t=null}},pauseRecording:function(){this.$gaEvent("engagement","pauseRecording"),this.recordingPaused=!0;var e=this.rtcmConnection.recorder;if(!e)return alert("No recorder found!");e.pauseRecording(),window.recordingDurationInterval&&clearInterval(window.recordingDurationInterval),e=null},resumeRecording:function(){var e=this;this.$gaEvent("engagement","resumeRecording"),this.recordingPaused=!1;var t=this.rtcmConnection.recorder;if(!t)return alert("No recorder found!");t.resumeRecording();var i=(new Date).getTime(),n=Object(f.f)(this.recordingDuration);window.recordingDurationInterval&&clearInterval(window.recordingDurationInterval),window.recordingDurationInterval=window.setInterval((function(){e.recordingDuration=Object(f.b)(n+((new Date).getTime()-i)/1e3)}),1e3),t=null},stopRecording:function(){var e=this;this.$gaEvent("engagement","stopRecording"),this.recording=!1,this.recorded=!0;var t=this.rtcmConnection.recorder;if(!t)return alert("No recorder found!");t.stopRecording((function(){window.recordingDurationInterval&&(e.recordingDuration=null,clearInterval(window.recordingDurationInterval)),c.getSeekableBlob(t.getBlob(),(function(i){var n=URL.createObjectURL(i),o=document.createElement("a");c.invokeSaveAsDialog(i,"meeting_record_"+moment().format(e.vars.serverDateTimeFormat)+".webm"),o.style.display="none",o.href=n,o.download="meeting_record_"+moment().format(e.vars.serverDateTimeFormat)+".webm",document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(o),e.recorded=!1}),100),t.reset(),t=null}))}))},toggleHandUp:function(){var e=this;this.$gaEvent("engagement","toggleHandUp"),window.lowerHandTimer&&clearTimeout(window.lowerHandTimer);var t=this.$refs.videos.find((function(t){return t.id===e.localVideo.id})),i=this.videoList.findIndex((function(t){return t.id===e.localVideo.id}));if(t&&t.srcObject){var n=t.srcObject;this.isHandUp=!this.isHandUp,this.videoList[i].isHandUp=this.isHandUp,this.emitSocketEvents("remoteHandToggled",{isHandUp:this.isHandUp,streamid:n.streamid}),this.isHandUp&&(window.lowerHandTimer=setTimeout((function(){e.toggleHandUp()}),3e4)),this.rtcmConnection.extra.isHandUp=this.isHandUp,this.rtcmConnection.updateExtraData()}else this.localVideo=null},toggleAudio:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.$refs.videos.find((function(e){return e.id===t.localVideo.id})),o=this.videoList.findIndex((function(e){return e.id===t.localVideo.id}));if(n&&n.srcObject){var a=n.srcObject,s=a.getAudioTracks();s.forEach((function(e){t.pageConfigs.enableAudio||i?(t.pageConfigs.enableAudio=!1,e.enabled=!1,t.videoList[o].audioMuted=!0):(t.pageConfigs.enableAudio=!0,e.enabled=!0,t.videoList[o].audioMuted=!0)})),this.emitSocketEvents("remoteMutedUnmuted",{audioEnabled:this.pageConfigs.enableAudio,streamid:a.streamid}),this.rtcmConnection.extra.audioMuted=!this.pageConfigs.enableAudio,this.rtcmConnection.updateExtraData()}else this.localVideo=null},toggleVideo:function(){var e=this,t=this.$refs.videos.find((function(t){return t.id===e.localVideo.id})),i=this.videoList.findIndex((function(t){return t.id===e.localVideo.id}));if(t&&t.srcObject){var n=t.srcObject;n.getVideoTracks().forEach((function(t){e.pageConfigs.enableVideo?(e.pageConfigs.enableVideo=!1,t.enabled=!1,e.videoList[i].videoMuted=!0):(e.pageConfigs.enableVideo=!0,t.enabled=!0,e.videoList[i].videoMuted=!1)})),this.emitSocketEvents("remoteMutedUnmuted",{videoEnabled:this.pageConfigs.enableVideo,streamid:n.streamid}),this.rtcmConnection.extra.videoMuted=!this.pageConfigs.enableVideo,this.rtcmConnection.updateExtraData()}else this.localVideo=null},toggleRemoteAudio:function(e,t){e.muted?(this.videoList[t].muted=!1,this.$refs.videos[t].muted=!1):(this.videoList[t].muted=!0,this.$refs.videos[t].muted=!0)},toggleRemoteAudioSource:function(e,t){this.emitSocketEvents("muteUnmuteRemote",e)},toggleEleFullScreen:function(e,t){var i=this,n=this.$refs.videoListEle;this.fullScreenItemId=e.id,this.$fullscreen.toggle(n,{wrap:!1,callback:function(e){i.fullScreenInOn=e}})},toggleFullScreen:function(e){m.a.isEnabled&&(e?m.a.request():m.a.exit())},toggleFooterAutoHide:function(){this.pageConfigs.footerAutoHide=!this.pageConfigs.footerAutoHide,this.$gaEvent("engagement","toggleFooterAutoHide")},toggleLayout:function(e){this.pageConfigs.layout=e||this.pageConfigs.layout,this.pageConfigs.disableScroll="grid"===this.pageConfigs.layout||(this.entity.config&&this.entity.config.hasOwnProperty("disableScroll")?this.entity.config.disableScroll:this.pageConfigs.disableScroll),this.$gaEvent("engagement","toggleLayout",e)},toggleFileSharing:function(){this.showFileSharing=!this.showFileSharing,this.$gaEvent("engagement","toggleFileSharing")},toggleAgenda:function(){this.showAgenda=!this.showAgenda,this.$gaEvent("engagement","toggleAgenda")},toggleWhiteboard:function(){this.$gaEvent("engagement","toggleWhiteboard"),this.showWhiteboard?(this.pageConfigs.layout=this.pageConfigs.lastLayout,this.showWhiteboard=!1):(this.canvasDesigner||this.initWhiteboard(),this.pageConfigs.lastLayout=this.pageConfigs.layout,this.pageConfigs.layout="presentation",this.showWhiteboard=!0)},changeFocus:function(e){e.local||this.videoList.forEach((function(t){t.maximized=t.id===e.id}))},kickRemoteUser:function(e,t){var i=this;formUtil.confirmAction().then((function(t){if(t.value){var n=i.$refs.videos.find((function(t){return t.id===e.id}));if(n&&n.srcObject){var o=n.srcObject;i.rtcmConnection.removeStream(o.streamid),i.emitSocketEvents("banAttendee",e),i.Custom({url:"/".concat(i.initUrl,"/").concat(i.uuid,"/invitees/").concat(e.extra.uuid,"/block"),method:"post"}).then((function(e){i.$toasted.success(e.message,i.$toastConfig)})).catch((function(e){formUtil.handleErrors(e)}))}}else t.dismiss,w.c.DismissReason.cancel}))},switchCamera:function(){this.mediaConfigurations.facingMode="user"===this.mediaConfigurations.facingMode?"environment":"user",this.applyMediaConstraints()},stopStream:function(e){var t=this.$refs.videos.find((function(t){return t.id===e.id}));t&&t.srcObject&&t.srcObject.getTracks().forEach((function(e){return e.stop()}))},afterJoiningChannel:function(e){this.membersLive=e},newMemberJoining:function(e){this.membersLive.push(e)},memberLeaving:function(e){this.membersLive=this.membersLive.filter((function(t){return t.uuid!==e.uuid}))},meetingStatusChanged:function(e){if(e.uuid===this.entity.uuid){if(this.entity.status===e.status&&!e.delayed)return;this.entity.status=e.status,this.entity.startDateTime=b.e(e.startDateTime,this.vars.serverDateTimeFormat);var t=e.status;"scheduled"===t&&e.delayed&&(t="delayed");this.$toasted.success($t({live:"meeting.is_live_now",delayed:"meeting.meeting_delayed",cancelled:"meeting.meeting_cancelled",ended:"meeting.meeting_ended"}[t]),this.$toastConfig)}},gotNewMessage:function(){this.pageConfigs.enableChat&&this.configs.chat&&this.configs.chat.enabled&&(this.pageConfigs.showChat&&!this.fullScreenInOn||(this.newMessages=!0,Object(g.a)()))},meetingRoomCreated:function(e){var t=this;this.entity.roomId=e.roomId,this.initMediaAndRtcmConnection(),this.rtcmConnection.checkPresence(this.entity.roomId,(function(e,i){t.roomIdAlive=!!e,!0===e&&!0===t.meetingRoomNotFound&&(t.meetingRoomNotFound=!1,t.getOnline())}))},banAttendee:function(e){this.enableLogs&&console.log(e);var t=this.$refs.videos.find((function(t){return t.id===e.id}));if(t&&t.srcObject){var i=t.srcObject;this.rtcmConnection.removeStream(i.streamid)}e.uuid===this.userUuid&&(this.closeConnectionAndStream(),this.getInitialData()),this.$toasted.info($t("meeting.ban_notification"),this.$toastConfig.info)},streamRemoved:function(e){this.rtcmConnection&&e.id&&this.rtcmConnection.removeStream(e.id),this.rtcmOnStreamEnded(e)},meetingEnded:function(e){this.closeConnectionAndStream(),this.getInitialData()},joinChannel:function(){window.Echo&&(this.entity.isPam?window.meetingChannel=window.Echo.channel("MeetingGuest.".concat(this.uuid)):(window.meetingChannel=window.Echo.join("Meeting.".concat(this.uuid)),window.meetingChannel.here(this.afterJoiningChannel).joining(this.newMemberJoining).leaving(this.memberLeaving)),window.meetingChannel.listen("MeetingStatusChanged",this.meetingStatusChanged).listen("NewMessage",this.gotNewMessage).listen("MeetingRoomCreated",this.meetingRoomCreated).listen("PublicMeetingRoomCreated",this.meetingRoomCreated))},emitSocketEvents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.rtcmConnection&&this.rtcmConnection.socket&&e&&(this.enableLogs&&console.log("Emitting on Socket: ",e),this.rtcmConnection.socket.emit("Whisper",{event:e,data:t}))},rtcmOnOpen:function(e){var t=this;this.canvasDesigner&&this.canvasDesigner.pointsLength<=0&&setTimeout((function(){t.rtcmConnection.send("sync-canvas-points")}),1e3),this.canvasDesigner&&this.rtcmConnection.isInitiator&&setTimeout((function(){this.canvasDesigner.renderStream()}),1e3)},rtcmOnClose:function(e){},rtcmOnMessage:function(e){"sync-canvas-points"!==e.data?this.canvasDesigner.syncData(e.data):this.canvasDesigner.sync()},rtcmOnUserStatusChanged:function(e){var t=this,i=this.rtcmConnection.userid;this.enableLogs&&(console.log("On rtcmOnUserStatusChanged - event : ",e),console.log("On rtcmOnUserStatusChanged - localUserId : ",i));var n=this.videoList.filter((function(t){return t.id===e.userid||t.streamUserId===e.userid||e.extra&&t.uuid===e.extra.uuid}));e&&"online"===e.status?n&&n.length?n.forEach((function(i){if(i.username!==e.extra.username){var n=t.videoList.findIndex((function(e){return e.uuid===i.uuid}));t.videoList[n].username=e.extra.username,t.videoList[n].name=e.extra.name,t.videoList[n].extra&&(t.videoList[n].extra.username=e.extra.username,t.videoList[n].extra.name=e.extra.name)}})):e.extra&&e.extra.hasOwnProperty("username")&&e.extra.username&&function(e){var n=e.userid,o=e.userid===i?"local":"remote";if(t.rtcmConnection.isInitiator||t.entity.canModerate||"local"===o||"live_class"!==t.entity.type.uuid&&"webinar"!==t.entity.type.uuid){var a=t.videoList.find((function(t){return t.id===e.streamid}));if(t.videoList.length>1&&t.recheckLiveParticipants(null),void 0===a){var s=O(O({id:n,streamUserId:e.userid,muted:!0},e.extra),{},{extra:e.extra,maximized:!1,local:"local"===o,screen:!1,status:!0,hasAudio:!1,hasVideo:!1,hasStream:!1,speaking:!1});t.videoList.push(s)}t.isLoading=!1}}(e):n&&n.length&&n.forEach((function(e){t.rtcmConnection.removeStream(e.id),t.recheckLiveParticipants(O(O({},e),{},{streamid:e.id})),t.autoSetVideoMaximized()}))},rtcmOnLeave:function(e){this.enableLogs&&console.log("On rtcmOnLeave - event : ",e)},rtcmOnSpeaking:function(e){var t=this,i=this.videoList.findIndex((function(t){return t.id===e.streamid}));window.onSilenceTimeoutObj["index"+i]&&clearTimeout(window.onSilenceTimeoutObj["index"+i]),this.videoList[i]&&(this.videoList[i].speaking=!0),window.onSilenceTimeoutObj["index"+i]=setTimeout((function(){t.videoList[i]&&(t.videoList[i].speaking=!1)}),5e3)},rtcmOnSilence:function(e){var t=this,i=this.videoList.findIndex((function(t){return t.id===e.streamid}));window.onSilenceTimeoutObj["index"+i]&&clearTimeout(window.onSilenceTimeoutObj["index"+i]),window.onSilenceTimeoutObj["index"+i]=setTimeout((function(){t.videoList[i]&&(t.videoList[i].speaking=!1)}),2e3)},rtcmOnVolumeChange:function(e){},rtcmOnStream:function(e){var t=this;if(this.enableLogs&&console.log("On Stream: ",e),this.rtcmConnection.isInitiator||this.entity.canModerate||"local"===e.type||"live_class"!==this.entity.type.uuid&&"webinar"!==this.entity.type.uuid||e.extra.isInitiator){var i=e.streamid,n=this.videoList.findIndex((function(t){return t.id===e.streamid||t.id===e.userid})),o=e.stream.idInstance?JSON.parse(e.stream.idInstance):e.stream,a=!(o.isAudio||o.audio||o.isVideo||o.video||o.isScreen||o.screen)&&e.extra.hasWhiteboard;if(o.isScreen&&"local"===e.type)this.localScreenStreamid=e.streamid,e.stream.getTracks().forEach((function(e){e.addEventListener("ended",t.stopSharingScreen)}));else a&&"local"===e.type&&(this.localWhiteboardStreamid=e.streamid);this.videoList.length>1&&this.recheckLiveParticipants(null);var s=O(O({id:i,streamUserId:e.userid,muted:"local"===e.type},e.extra),{},{extra:e.extra,maximized:"local"===e.type&&!o.isScreen&&!a,local:"local"===e.type,screen:this.localScreenStreamid===i,whiteboard:a,status:!0,hasAudio:o.isAudio||o.audio,hasVideo:o.isVideo||o.video||o.isScreen||a||o.screen,hasStream:!0,speaking:!1});if((o.isScreen||a)&&(s.videoMuted=!1),-1===n?"local"===e.type&&this.localScreenStreamid!==s.id&&this.localWhiteboardStreamid!==s.id?this.localVideo&&this.needStreamAddOrReplace?s.id=i=this.localVideo.id:(this.localVideo=s,this.videoList.push(s)):this.videoList.push(s):-1===n||this.videoList[n].hasStream||("local"===e.type&&this.localScreenStreamid!==s.id&&this.localWhiteboardStreamid!==s.id?this.localVideo&&this.needStreamAddOrReplace?s.id=i=this.localVideo.id:(this.localVideo=s,this.videoList[n]=Object.assign({},this.videoList[n],s)):this.videoList[n]=Object.assign({},this.videoList[n],s)),this.autoSetVideoMaximized(),this.pageConfigs.enableRecording){var r=this.rtcmConnection.recorder;if(r){var c=r.getInternalRecorder();this.recording&&c&&c.addStreams(e.stream)}}setTimeout((function(){t.enableLogs&&(console.log("$refs : ",t.$refs),console.log("$refs.videos : ",t.$refs.videos));for(var n=0,s=t.$refs.videos.length;n<s;n++)if(t.$refs.videos[n].id===i||t.$refs.videos[n].id===e.userid){t.$refs.videos[n].srcObject=e.stream;break}"local"===e.type&&t.applyOnStartConfigs(),setTimeout((function(){!t.pageConfigs.speechDetection||a||o.isScreen||t.initHark({stream:e.stream,streamedObject:e,connection:t.rtcmConnection})}),1e3)}),500),this.isLoading=!1}},rtcmOnStreamEnded:function(e){this.recheckLiveParticipants(e),this.autoSetVideoMaximized()},rtcmOnMediaError:function(e){var t=this;this.isLoading=!1,window.currentUserMediaRequest&&(window.currentUserMediaRequest.mutex=!1),Object(g.d)(e).alert.then((function(i){"NotFoundError"===e.name||"NotReadableError"===e.name||"OverconstrainedError"===e.name?(t.applyMediaConstraints(!0),t.$toasted.info($t("meeting.media_devices.setup_reset_try_again"),t.$toastConfig.info)):"NotAllowedError"!==e.name&&"PermissionDeniedError"!==e.name||(t.permissionRejected=!0),i.value||(t.isLoading=!1,i.dismiss,w.c.DismissReason.cancel)}))},rtcmOnMute:function(e){this.enableLogs&&console.log("On rtcmOnMute: ",e);var t=this.videoList.findIndex((function(t){return t.id===e.streamid})),i=this.$refs.videos.find((function(t){return t.id===e.streamid}));"video"===e.muteType?this.videoList[t].videoMuted=!0:"audio"===e.muteType?this.videoList[t].muted=!0:(this.videoList[t].videoMuted=!0,this.videoList[t].muted=!0,i.srcObject=null)},rtcmOnUnmute:function(e){this.enableLogs&&console.log(e);var t=this.videoList.findIndex((function(t){return t.id===e.streamid})),i=this.$refs.videos.find((function(t){return t.id===e.streamid}));"video"===e.unmuteType?this.videoList[t].videoMuted=!1:"audio"===e.unmuteType?this.videoList[t].muted=!1:(this.videoList[t].videoMuted=!1,this.videoList[t].muted=!1,i.srcObject=e)},rtcmOnRemoteMuteUnmuted:function(e){this.enableLogs&&console.log(e);var t=this.videoList.findIndex((function(t){return t.id===e.streamid}));this.rtcmConnection.streamEvents[e.streamid].stream;e.hasOwnProperty("audioEnabled")?e.audioEnabled?this.videoList[t].audioMuted=!1:this.videoList[t].audioMuted=!0:e.hasOwnProperty("videoEnabled")&&(e.videoEnabled?this.videoList[t].videoMuted=!1:this.videoList[t].videoMuted=!0)},rtcmOnRemoteHandToggled:function(e){if(this.enableLogs&&console.log(e),e&&e.streamid&&this.rtcmConnection.streamEvents[e.streamid]){var t=this.videoList.findIndex((function(t){return t.id===e.streamid}));this.rtcmConnection.streamEvents[e.streamid].stream;e.hasOwnProperty("isHandUp")&&(e.isHandUp?(this.videoList[t].isHandUp=!0,this.$toasted.info($t("meeting.handup_notification",{attribute:this.videoList[t].name}),this.$toastConfig.info)):this.videoList[t].isHandUp=!1)}},rtcmOnMuteUnmuteRemote:function(e){this.enableLogs&&console.log(e);var t=this.$refs.videos.find((function(t){return t.id===e.id}));t&&t.srcObject&&this.toggleAudio()},rtcmOnUserIdAlreadyTaken:function(e,t){this.rtcmConnection.userid=t},initMediaAndRtcmConnection:function(){this.rtcmConnection||(this.rtcmConnection=new r.a,this.rtcmConnection.socketURL=window.atob(this.socketURL),this.configs.signal&&this.configs.signal.url&&(this.rtcmConnection.socketURL=this.configs.signal.url),this.rtcmConnection.autoCreateMediaElement=!1,this.configs.meeting&&(this.configs.meeting.debugMode,this.rtcmConnection.enableLogs=!0,this.configs.meeting.forceTurn&&(this.rtcmConnection.candidates={turn:!0,stun:!1,host:!1})),this.rtcmConnection.onopen=this.rtcmOnOpen,this.rtcmConnection.onclose=this.rtcmOnClose,this.rtcmConnection.onleave=this.rtcmOnLeave,this.rtcmConnection.onmessage=this.rtcmOnMessage,this.rtcmConnection.onUserStatusChanged=this.rtcmOnUserStatusChanged,this.rtcmConnection.onstream=this.rtcmOnStream,this.rtcmConnection.onstreamended=this.rtcmOnStreamEnded,this.rtcmConnection.onmute=this.rtcmOnMute,this.rtcmConnection.onunmute=this.rtcmOnUnmute,this.rtcmConnection.onMediaError=this.rtcmOnMediaError,this.rtcmConnection.onUserIdAlreadyTaken=this.rtcmOnUserIdAlreadyTaken,this.pageConfigs.speechDetection&&(this.rtcmConnection.onspeaking=this.rtcmOnSpeaking,this.rtcmConnection.onsilence=this.rtcmOnSilence,this.rtcmConnection.onvolumechange=this.rtcmOnVolumeChange,window.onSilenceTimeoutObj={}),this.rtcmConnection.setCustomSocketEvent("Whisper"),this.fileSharingConnection=this.rtcmConnection),this.getMediaConstraints(),this.rtcmConnection.bandwidth=O({},this.mediaConfigurations.bandwidth),this.rtcmConnection.iceServers=[{urls:["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302"]}],this.configs.iceServers.length&&(this.rtcmConnection.iceServers=y(this.configs.iceServers)),this.rtcmConnection.session=O({},this.meetingRulesHost.session),this.rtcmConnection.sdpConstraints.mandatory=O({},this.meetingRulesHost.mandatory),this.rtcmConnection.mediaConstraints={video:!!this.meetingRulesHost.mediaConstraints.video&&this.videoConstraints,audio:!!this.meetingRulesHost.mediaConstraints.audio&&this.audioConstraints,screen:this.meetingRulesHost.mediaConstraints.screen}},initSocketListener:function(){if(this.rtcmConnection&&this.rtcmConnection.socket){var e={removedStream:this.streamRemoved,banAttendee:this.banAttendee,muteUnmuteRemote:this.rtcmOnMuteUnmuteRemote,remoteMutedUnmuted:this.rtcmOnRemoteMuteUnmuted,remoteHandToggled:this.rtcmOnRemoteHandToggled,meetingEnded:this.meetingEnded};this.rtcmConnection.socket.on("Whisper",(function(t){t&&e.hasOwnProperty(t.event)&&e[t.event](t.data)}))}},initCanvasDesigner:function(){this.canvasDesigner=new CanvasDesigner,this.canvasDesigner.widgetHtmlURL="/js/canvas-designer/widget.html",this.canvasDesigner.widgetJsURL="/js/canvas-designer/widget.min.js"},initWhiteboard:function(){var e=this;this.videoList.length<1||!this.$refs.whiteboard||!CanvasDesigner||(this.canvasDesigner||this.initCanvasDesigner(),this.canvasDesigner.addSyncListener((function(t){e.rtcmConnection.send(t)})),this.canvasDesigner.setSelected("pencil"),this.canvasDesigner.setTools({pencil:!0,text:!0,image:!0,pdf:!0,eraser:!0,line:!0,arrow:!0,dragSingle:!0,dragMultiple:!0,arc:!0,rectangle:!0,quadratic:!0,bezier:!1,marker:!0,zoom:!1,lineWidth:!0,colorsPicker:!0,extraOptions:!0,code:!1,undo:!0}),this.canvasDesigner.iframe||this.canvasDesigner.appendTo(this.$refs.whiteboard,(function(){e.rtcmConnection.extra.hasWhiteboard=!0,e.rtcmConnection.updateExtraData(),e.canvasDesigner.captureStream((function(t){e.rtcmConnection.addStream(t),e.rtcmConnection.onstream({streamid:t.id,stream:t,userid:e.rtcmConnection.userid,type:"local",extra:e.rtcmConnection.extra})}))})))},destroyWhiteboard:function(){var e=this;if(this.canvasDesigner){this.canvasDesigner.destroy(),this.canvasDesigner=null;var t=this.$refs.videos.find((function(t){return t.id===e.localWhiteboardStreamid}));t&&t.srcObject?(this.rtcmConnection&&this.localWhiteboardStreamid&&(this.rtcmConnection.removeStream(this.localWhiteboardStreamid),this.rtcmOnStreamEnded({id:this.localWhiteboardStreamid}),this.videoList.length>1&&this.recheckLiveParticipants({streamid:this.localWhiteboardStreamid}),this.autoSetVideoMaximized()),this.emitSocketEvents("removedStream",t.srcObject),this.localWhiteboardStreamid=null):this.localWhiteboardStreamid=null}this.rtcmConnection.extra.hasWhiteboard=!1,this.rtcmConnection.updateExtraData()},hideAndDestroyWhiteboard:function(){var e=this;formUtil.confirmAction().then((function(t){t.value?(e.pageConfigs.layout=e.pageConfigs.lastLayout,e.showWhiteboard=!1,e.destroyWhiteboard()):(t.dismiss,w.c.DismissReason.cancel)}))},getMediaConstraints:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.needStreamAddOrReplace=!1,t)return this.audioConstraints={sampleSize:16,channelCount:2,echoCancellation:!1},void(this.videoConstraints={width:{min:426,ideal:1280,max:4096},height:{min:240,ideal:720,max:2160}});this.mediaConfigurations.selectedAudioInput&&this.mediaConfigurations.selectedAudioInput.uuid?(this.audioConstraints={deviceId:{ideal:this.mediaConfigurations.selectedAudioInput.uuid}},this.mediaConfigurations.activeAudioInput!==this.audioConstraints.deviceId.ideal&&(this.needStreamAddOrReplace=!0)):this.audioConstraints=!0,this.mediaConfigurations.selectedVideoInput&&this.mediaConfigurations.selectedVideoInput.uuid?(this.videoConstraints={deviceId:{ideal:this.mediaConfigurations.selectedVideoInput.uuid}},this.mediaConfigurations.activeVideoInput!==this.videoConstraints.deviceId.ideal&&(this.needStreamAddOrReplace=!0)):this.videoConstraints={},"Auto"!==this.mediaConfigurations.facingMode?(this.videoConstraints.facingMode=this.mediaConfigurations.facingMode,this.mediaConfigurations.activeFacingMode!==this.videoConstraints.facingMode&&(this.needStreamAddOrReplace=!0)):this.videoConstraints.hasOwnProperty("facingMode")&&(this.mediaConfigurations.activeFacingMode!==this.videoConstraints.facingMode&&(this.needStreamAddOrReplace=!0),delete this.videoConstraints.facingMode),"Auto"!==this.mediaConfigurations.frameRate?this.videoConstraints.frameRate=this.mediaConfigurations.frameRate:this.videoConstraints.hasOwnProperty("frameRate")&&delete this.videoConstraints.frameRate;var i=this.mediaDevices.resolutions.find((function(t){return t.label===e.mediaConfigurations.selectedResolution}));i&&"Auto"!==i.label?(this.videoConstraints.width=i.constraints.width,this.videoConstraints.height=i.constraints.height):(this.videoConstraints.hasOwnProperty("width")&&delete this.videoConstraints.width,this.videoConstraints.hasOwnProperty("height")&&delete this.videoConstraints.height)},applyMediaConstraints:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.rtcmConnection&&this.localVideo&&(this.getMediaConstraints(e),this.rtcmConnection.mediaConstraints={video:!!this.meetingRulesHost.mediaConstraints.video&&this.videoConstraints,audio:!!this.meetingRulesHost.mediaConstraints.audio&&this.audioConstraints,screen:this.meetingRulesHost.mediaConstraints.screen},this.mediaConfigurations.activeAudioInput=this.audioConstraints.deviceId.ideal,this.mediaConfigurations.activeVideoInput=this.videoConstraints.deviceId.ideal,this.mediaConfigurations.activeFacingMode=this.mediaConfigurations.facingMode,this.needStreamAddOrReplace?this.closeConnectionAndStream(!0):this.rtcmConnection.applyConstraints(this.rtcmConnection.mediaConstraints))},closeConnectionAndStream:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.rtcmConnection){if(this.destroyWhiteboard(),this.rtcmConnection.attachStreams.forEach((function(e){e.stop()})),this.$refs.greenRoomVideo&&this.$refs.greenRoomVideo.srcObject){var i=this.$refs.greenRoomVideo.srcObject;i.stop(),this.localGreenRoomStream=null}else if(this.localGreenRoomStream){var n=this.localGreenRoomStream;n.stop(),this.localGreenRoomStream=null}this.localVideo&&this.emitSocketEvents("removedStream",this.localVideo),this.rtcmConnection.getAllParticipants().forEach((function(t){e.rtcmConnection.disconnectWith(t)})),this.rtcmConnection.leave(),this.rtcmConnection.closeSocket(),window.setTimeout((function(){e.localVideo=null,e.localScreenStreamid=null,e.localWhiteboardStreamid=null,e.localGreenRoomStream=null,e.rtcmConnection.recorder=null,e.rtcmConnection=null,t&&e.getOnline()}),500)}this.videoList=[]},initHark:function(e){if(window.hark&&this.pageConfigs.speechDetection){var t=e.streamedObject,i=e.stream,n=e.connection,o=l()(i,{});o.on("speaking",(function(){n.onspeaking(t)})),o.on("stopped_speaking",(function(){n.onsilence(t)})),window.harkInitiated=!0}},recheckLiveParticipants:function(e){var t=this,i=[],n=this.rtcmConnection?this.rtcmConnection.getAllParticipants():[];this.videoList.forEach((function(t,o){var a=n.findIndex((function(e){return e===t.streamUserId}));(!e||e&&t.id!==e.streamid)&&(t.local||!t.local&&-1!==a)||(t.status=!1),i.push(t)})),this.videoList=i,setTimeout((function(){t.videoList=t.videoList.filter((function(e){return e.status})),t.autoSetVideoMaximized()}),3e3)},autoSetVideoMaximized:function(){var e=this,t=function(t){e.videoList[t].maximized=!0,e.videoList=e.videoList.map((function(e,i){return e.maximized=!1,i===t&&(e.maximized=!0),e}))};if(this.videoList.length>1)if(-1===this.videoList.findIndex((function(e){return!e.local&&e.maximized&&e.status}))){var i=this.videoList.findIndex((function(e){return!e.local&&e.hasStream}));t(-1!==i?i:0)}else{var n=this.videoList.findIndex((function(e){return!e.local&&e.whiteboard&&e.status}));-1!==n&&this.videoList[n].whiteboard&&t(n)}else this.videoList.length&&t(0)},validateMediaDeviceRequest:function(e){var t={video:!!e.video,audio:!!e.audio,screen:!!e.screen};return this.pageConfigs.allowJoiningWithoutDevices&&(!t.audio||this.mediaDevices.audioInput&&this.mediaDevices.audioInput.length||(t.audio=!1),!t.video||this.mediaDevices.videoInput&&this.mediaDevices.videoInput.length||(t.video=!1)),t},joinRoom:function(e){var t=this;this.rtcmConnection.session=O({},this.meetingRulesGuest.session),this.videoList=[],this.getMediaConstraints();var i=this.entity.canModerate?this.meetingRulesHost:this.meetingRulesGuest,n=this.validateMediaDeviceRequest(i.mediaConstraints);this.rtcmConnection.mediaConstraints={video:!!n.video&&this.videoConstraints,audio:!!n.audio&&this.audioConstraints,screen:n.screen},!this.pageConfigs.allowJoiningWithoutDevices||n.audio||n.video||n.screen||(this.rtcmConnection.dontCaptureUserMedia=!0),this.rtcmConnection.sdpConstraints.mandatory=O({},i.mandatory),this.rtcmConnection.autoCloseEntireSession=i.autoCloseEntireSession,this.rtcmConnection.enableScalableBroadcast=i.enableScalableBroadcast,this.rtcmConnection.enableScalableBroadcast&&(this.rtcmConnection.maxRelayLimitPerUser=i.maxRelayLimitPerUser),this.rtcmConnection.extra.isInitiator=this.entity.canModerate,this.rtcmConnection.join(e,(function(e,i,n){console.log("Room Joined: ",i),t.isLoading=!1,!1===e||n?formUtil.handleErrors(n):(t.meetingRoomNotFound=!1,t.updatePageConfigs(t.entity.canModerate),t.initSocketListener(),t.$toasted.success($t("meeting.meeting_joined"),t.$toastConfig))}))},applyOnStartConfigs:function(){var e=this;!this.rtcmConnection.extra.isInitiator&&this.pageConfigs.muteParticipantsOnStart&&window.setTimeout((function(){e.toggleAudio(null,!0)}),1e3)},shareScreen:function(){try{this.rtcmConnection.addStream({screen:!0})}catch(e){}},stopSharingScreen:function(){var e=this;this.isLoading=!0;var t=this.$refs.videos.find((function(t){return t.id===e.localScreenStreamid}));t&&t.srcObject?(t.srcObject.getTracks().forEach((function(t){t.removeEventListener("ended",e.stopSharingScreen),t.enabled=!1,t.stop()})),this.rtcmConnection.removeStream(this.localScreenStreamid),this.emitSocketEvents("removedStream",t.srcObject),this.localScreenStreamid=null,this.isLoading=!1):(this.localScreenStreamid=null,this.isLoading=!1)},getOnline:function(){var e=this;this.isLoading=!0,this.showAgenda=!1;this.entity.status;this.$gaEvent("engagement","meeting_getOnline"),this.initMediaAndRtcmConnection(),this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/join"),method:"post"}).then((function(t){e.meetingRoomId=t.meeting.roomId,t.meeting=e.updateMeetingTimezone(t.meeting),e.entity=t.meeting,e.rtcmConnection.extra={username:e.user.username,name:e.user.name,uuid:e.user.uuid,image:e.profile.image,audioMuted:!e.pageConfigs.enableAudio,videoMuted:!e.pageConfigs.enableVideo,isHandUp:e.isHandUp,isInitiator:!1},e.enableLogs&&(console.log("rtcmConnection",e.rtcmConnection),console.log("mediaConfigurations",e.mediaConfigurations),console.log("mediaDevices",e.mediaDevices),console.log("pageConfigs",e.pageConfigs),console.log("videoConstraints",e.videoConstraints),console.log("audioConstraints",e.audioConstraints),console.log("meetingRulesHost",e.meetingRulesHost),console.log("meetingRulesGuest",e.meetingRulesGuest),console.log("rtcmConnection-ExtraData",e.rtcmConnection.extra)),e.rtcmConnection.checkPresence(e.meetingRoomId,(function(t,i){!0===t?(e.meetingRoomNotFound=!1,e.joinRoom(e.meetingRoomId)):(e.isLoading=!1,e.meetingRoomNotFound=!0,e.$toasted.error($t("meeting.room_not_found"),e.$toastConfig.error))}))})).catch((function(t){e.isLoading=!1,formUtil.handleErrors(t)}))},getOffline:function(){var e=this;this.$gaEvent("engagement","meeting_getOffline"),this.isLoading=!0,this.meetingAction("leave",null,{alert:"confirm",sameCallbackIfError:!0,callback:function(t){e.showAgenda=!0,e.showWhiteboard=!1,"presentation"===e.pageConfigs.layout&&(e.pageConfigs.layout=e.pageConfigs.lastLayout),e.closeConnectionAndStream()}})},meetingAction:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{alert:"confirm"},o={alert:"confirm"};n=Object.assign({},o,n);var a=function(o){t.isLoading=!0,i=o||i,t.Custom({url:"/".concat(t.initUrl,"/").concat(t.uuid,"/").concat(e),method:"post",data:i}).then((function(e){e.meeting=t.updateMeetingTimezone(e.meeting),t.entity=e.meeting,t.$toasted.success(e.message,t.$toastConfig),n.callback&&n.callback(e),t.isLoading=!1})).catch((function(e){n.callback&&n.sameCallbackIfError&&n.callback(e),t.isLoading=!1,formUtil.handleErrors(e)}))};e?"confirm"===n.alert||!0===n.alert?formUtil.confirmAction().then((function(e){e.value?a():(t.isLoading=!1,e.dismiss,w.c.DismissReason.cancel)})):"input"===n.alert?swtAlert.fire({title:n.title,input:"text",inputPlaceholder:n.inputPlaceholder,showCancelButton:!0,confirmButtonText:"Proceed!",cancelButtonText:"Go Back!"}).then((function(e){if(e.value){var i={};i[n.fieldName]=e.value,a(i)}else t.isLoading=!1,e.dismiss,w.c.DismissReason.cancel})):a():this.isLoading=!1},snoozeMeeting:function(e){this.meetingAction("snooze",{period:e})},leaveMeeting:function(){var e=this;this.meetingAction("leave",null,{callback:function(t){e.showAgenda=!0,e.showWhiteboard=!1,"presentation"===e.pageConfigs.layout&&(e.pageConfigs.layout=e.pageConfigs.lastLayout),e.closeConnectionAndStream()}})},cancelMeeting:function(){this.meetingAction("cancel",null,{alert:"input",title:$t("meeting.reason_for_cancellation"),inputPlaceholder:$t("meeting.reason_for_cancellation"),fieldName:"cancellationReason"})},endMeeting:function(){var e=this;this.isLoading=!0,this.meetingAction("end",null,{sameCallbackIfError:!0,callback:function(t){e.showAgenda=!0,e.showWhiteboard=!1,"presentation"===e.pageConfigs.layout&&(e.pageConfigs.layout=e.pageConfigs.lastLayout),e.closeConnectionAndStream(),e.emitSocketEvents("meetingEnded",{status:t.meeting.status})}})},updateMeetingRules:function(){"video_conference"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!1},mediaConstraints:{audio:!0,video:!0,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},autoCloseEntireSession:!1,enableScalableBroadcast:!1},this.meetingRulesGuest={session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!1},mediaConstraints:{audio:!0,video:!0,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},autoCloseEntireSession:!1,enableScalableBroadcast:!1}):"audio_conference"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!1,screen:!1,data:!0,oneway:!1},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1},autoCloseEntireSession:!1,enableScalableBroadcast:!1},this.meetingRulesGuest={session:{audio:!0,video:!1,screen:!1,data:!0,oneway:!1},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1},autoCloseEntireSession:!1,enableScalableBroadcast:!1}):"webinar"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!0},mediaConstraints:{audio:!0,video:!0,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},autoCloseEntireSession:!0,enableScalableBroadcast:!0,maxRelayLimitPerUser:1},this.meetingRulesGuest={session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!0},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},autoCloseEntireSession:!0,enableScalableBroadcast:!0,maxRelayLimitPerUser:1}):"live_class"===this.entity.type.uuid?(this.meetingRulesHost={session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!1},mediaConstraints:{audio:!0,video:!0,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},autoCloseEntireSession:!0,enableScalableBroadcast:!1},this.meetingRulesGuest={session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!1},mediaConstraints:{audio:!0,video:!0,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},autoCloseEntireSession:!0,enableScalableBroadcast:!1}):"podcast"===this.entity.type.uuid&&(this.meetingRulesHost={session:{audio:!0,video:!1,screen:!1,data:!1,oneway:!0},mediaConstraints:{audio:!0,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1},autoCloseEntireSession:!0,enableScalableBroadcast:!0,maxRelayLimitPerUser:1},this.meetingRulesGuest={session:{audio:!0,video:!1,screen:!1,data:!1,oneway:!0},mediaConstraints:{audio:!1,video:!1,screen:!1},mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1},autoCloseEntireSession:!0,enableScalableBroadcast:!0,maxRelayLimitPerUser:1})},updateMeetingTimezone:function(e){var t=this,i=function(e){return b.e(e,t.vars.serverDateTimeFormat)};return e.startDateTime=i(e.startDateTime),e.plannedStartDateTime&&(e.plannedStartDateTime=i(e.plannedStartDateTime)),e},beforeUnload:function(e){this.localVideo&&this.emitSocketEvents("removedStream",this.localVideo)},logEvent:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log";this.enableLogs&&("log"===i?console.log(e,t):"error"===i?console.error(e,t):"debug"===i&&console.trace(e,t))},toggleDevicesModal:function(){this.mediaConfigFormData=_.cloneDeep(this.mediaConfigurations),this.showDevicesModal=!0},onDevicesModalOK:function(e){var t=this;e.preventDefault(),Object(p.areEqual)(this.mediaConfigFormData,this.mediaConfigurations)||(this.mediaConfigurations=_.cloneDeep(this.mediaConfigFormData),this.applyMediaConstraints()),this.$nextTick((function(){t.$bvModal.hide("devicesModal")}))},onDevicesModalCancel:function(e){var t=this;e.preventDefault(),this.$nextTick((function(){t.$bvModal.hide("devicesModal")}))},updatePageConfigs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.configs.meeting.recordingFormatAudio?this.configs.meeting.recordingFormatAudio:"audio/webm",n=this.configs.meeting.recordingFormatVideo?this.configs.meeting.recordingFormatVideo:"video/webm",o={},a=this.mediaConfigurations.recording.type,s=this.mediaConfigurations.recording.mimeType;"video_conference"===this.entity.type.uuid?(o={enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,enableWhiteboard:!0},a="video",s=n):"audio_conference"===this.entity.type.uuid?(o={enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!1,enableScreenSharing:!1,enableWhiteboard:!1},a="audio",s=i):"webinar"===this.entity.type.uuid?(o=t?{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,enableHandGesture:!1,enableWhiteboard:!0}:{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!1,showEnableVideoBtn:!1,enableScreenSharing:!1,enableFileSharing:!1,enableRecording:!1,enableHandGesture:!1,enableWhiteboard:!1},a="video",s=n):"live_class"===this.entity.type.uuid?(o=t?{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!0,showEnableVideoBtn:!0,enableWhiteboard:!0}:{enableAudio:!0,enableVideo:!0,showEnableAudioBtn:!1,showEnableVideoBtn:!1,enableScreenSharing:!1,enableFileSharing:!1,enableRecording:!1,enableWhiteboard:!1},a="video",s=n):"podcast"===this.entity.type.uuid&&(o=t?{enableAudio:!0,enableVideo:!1,showEnableAudioBtn:!0,showEnableVideoBtn:!1,enableScreenSharing:!1,enableHandGesture:!1,enableWhiteboard:!1}:{enableAudio:!0,enableVideo:!1,showEnableAudioBtn:!1,showEnableVideoBtn:!1,enableScreenSharing:!1,enableFileSharing:!1,enableRecording:!1,enableHandGesture:!1,enableWhiteboard:!1},a="audio",s=i),o.objForEach((function(t,i){return e.pageConfigs[i]=t})),this.mediaConfigurations.recording.type=a,this.mediaConfigurations.recording.mimeType=s,this.rtcmConnection.extra.audioMuted=!this.pageConfigs.enableAudio,this.rtcmConnection.extra.videoMuted=!this.pageConfigs.enableVideo,this.rtcmConnection.extra.isHandUp=this.isHandUp,this.rtcmConnection.updateExtraData(),this.pageConfigs.enableWhiteboard&&(Object(f.g)("/js/canvas-designer/webrtc-handler.js"),Object(f.g)("/js/canvas-designer/canvas-designer-widget.js")),this.configs.meeting.debugMode=!0},destroyPage:function(){window.countdownInterval&&clearInterval(window.countdownInterval),this.SetUiConfig({pageHeaderShow:!0,pageFooterShow:!0}),this.closeConnectionAndStream(),window.Echo&&(window.meetingChannel&&(window.meetingChannel.stopListening("MeetingStatusChanged"),window.meetingChannel.stopListening("NewMessage")),window.Echo.leave("Meeting.".concat(this.uuid))),m.a.isEnabled&&(m.a.off("change"),m.a.off("error"))},getInitialData:function(){var e=this;return this.isLoading=!0,window.Echo?this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/pam"),method:"get",params:{isPam:!0}}).then((function(t){return t.isInstantMeeting&&(e.pageConfigs.hasAgenda=!1),t.config.objForEach((function(t,i){return e.pageConfigs[i]=t})),e.pageConfigs.disableScroll="grid"===e.pageConfigs.layout||(t.config&&t.config.hasOwnProperty("disableScroll")?t.config.disableScroll:e.pageConfigs.disableScroll),t=e.updateMeetingTimezone(t),e.entity=t,e.updateMeetingRules(),t.roomId&&"live"===t.status&&setTimeout((function(){e.initMediaAndRtcmConnection(),e.rtcmConnection.checkPresence(t.roomId,(function(t,i){e.roomIdAlive=!!t,!0===t&&(e.meetingRoomNotFound=!1)}))}),1e3),e.joinChannel(),e.setupGreenRoom(),t.isInstantMeeting&&!t.isBlocked&&"live"===t.status&&(e.rtcmConnection&&e.rtcmConnection.isInitiator||t.canModerate||"live_class"!==t.type.uuid&&"webinar"!==t.type.uuid)?e.getOnline():e.isLoading=!1,t})).catch((function(t){return e.isLoading=!1,formUtil.handleErrors(t),e.$router.push({name:e.fallBackRoute}),t})):(this.$toasted.error($t("config.pusher.credential_required"),this.$toastConfig.error),void this.$router.push({name:this.fallBackRoute}))},setupGreenRoom:function(){var e=this;this.mediaConfigurations.selectedVideoInput&&(this.getMediaConstraints(),navigator.mediaDevices.getUserMedia({video:this.videoConstraints,audio:this.audioConstraints}).then((function(t){e.localGreenRoomStream=t,e.$refs.greenRoomVideo&&(e.$refs.greenRoomVideo.srcObject=t),setTimeout((function(){if(e.$refs.greenRoomAudio){var i=new AudioContext,n=i.createAnalyser(),o=i.createMediaStreamSource(t),a=i.createScriptProcessor(2048,1,1);n.smoothingTimeConstant=.8,n.fftSize=1024,o.connect(n),n.connect(a),a.connect(i.destination),Object(C.a)(e.$refs.greenRoomAudio,{width:"sibling",boxGapFraction:.2}),a.onaudioprocess=function(){var t=new Uint8Array(n.frequencyBinCount);n.getByteFrequencyData(t);for(var i=0,o=t.length,a=0;a<o;a++)i+=t[a];var s=i/o,r=Math.round(s);e.micVolumeActivity=r<0?0:r}}}),1e3)})).catch((function(t){console.log("navigator.MediaDevices.getUserMedia error: ",t.message,t.name),"NotAllowedError"!==t.name&&"PermissionDeniedError"!==t.name||(e.permissionRejected=!0)})))},setupMediaDevices:function(){var e=this;this.isLoading=!0;this.mediaDevices.audioInput=[],this.mediaDevices.audioOutput=[],this.mediaDevices.videoInput=[],navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(e){return e.getTracks().forEach((function(e){return e.stop()})),navigator.mediaDevices.enumerateDevices()})).then((function(t){t.forEach((function(t){var i={uuid:t.deviceId};"audioinput"===t.kind?(i.name=t.label||"microphone ".concat(e.mediaDevices.audioInput.length+1),e.mediaDevices.audioInput.push(i)):"audiooutput"===t.kind?(i.name=t.label||"speaker ".concat(e.mediaDevices.audioOutput.length+1),e.mediaDevices.audioOutput.push(i)):"videoinput"===t.kind?(i.name=t.label||"camera ".concat(e.mediaDevices.videoInput.length+1),e.mediaDevices.videoInput.push(i)):console.log("Some other kind of source/device: ",t)})),e.mediaConfigurations.selectedAudioInput=e.mediaDevices.audioInput?e.mediaDevices.audioInput[0]:null,e.mediaConfigurations.selectedVideoInput=e.mediaDevices.videoInput?e.mediaDevices.videoInput[0]:null,e.getInitialData()})).catch((function(t){console.log("navigator.MediaDevices.getUserMedia error: ",t.message,t.name),"NotAllowedError"!==t.name&&"PermissionDeniedError"!==t.name||(e.permissionRejected=!0),e.getInitialData()}))},doInit:function(){this.Init({url:this.initUrl}),window.isDuplicate()&&(this.duplicateTab=!0),this.setupMediaDevices()},updateUsername:function(){var e=this;swtAlert.fire({title:$t("misc.ask_name.title"),showCancelButton:!0,confirmButtonText:$t("misc.ask_name.confirm_btn"),cancelButtonText:$t("misc.ask_name.cancel_btn_2"),input:"text"}).then((function(t){if(t.value){var i=Object(f.e)("guestUserData",!0)||{};(i=O(O({},e.profile),i)).username=Object(p.toSnakeCase)(t.value),i.name=t.value,e.profile=O({},i),Object(f.j)("guestUserData",i),e.rtcmConnection.extra.username=e.profile.username,e.rtcmConnection.extra.name=e.profile.name,e.rtcmConnection.updateExtraData()}else t.dismiss,w.c.DismissReason.cancel}))},setDefaultGuestUserData:function(){var e=Object(f.e)("guestUserData",!0);if(!e||!e.uuid){var t=uuid().substring(0,8);e={uuid:uuid(),username:t,name:t}}this.profile=O({},e),Object(f.j)("guestUserData",e)}}),mounted:function(){var e=this;document.body.classList.add("meeting-page"),this.$route.params.uuid&&(this.uuid=this.$route.params.uuid),m.a.isEnabled&&(m.a.on("change",(function(){e.SetUiConfig({fullScreen:m.a.isFullscreen})})),m.a.on("error",(function(e){console.error("Failed to enable fullscreen",e)})),this.SetUiConfig({fullScreen:!1})),this.GetConfig({params:{pam:!0,meeting:this.uuid}}).then((function(){e.isLoading=!1,window.Echo||Object(h.a)(),e.doInit()})).catch((function(t){e.isLoading=!1,formUtil.handleErrors(t)})),window.addEventListener("beforeunload",this.beforeUnload),this.checkIfOffline()},created:function(){this.mediaConfigFormData=_.cloneDeep(this.mediaConfigurations),this.SetUiConfig({pageHeaderShow:!1,pageFooterShow:!1}),this.setDefaultGuestUserData(),navigator.connection&&"cellular"===navigator.connection.type&&navigator.connection.downlinkMax<=.115&&alert("2G is not supported. Please use a better internet service.")},beforeRouteEnter:function(e,t,i){e.params.uuid?i((function(e){e.prevRoute=t})):i({name:"joinMeetingAsGuest"})},beforeDestroy:function(){window.isMeetingPageDestroyed||(this.isLoading=!0,this.destroyPage(),this.entity&&"live"===this.entity.status&&this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/leave"),method:"post"}),window.isMeetingPageDestroyed=!0)},beforeRouteLeave:function(e,t,i){var n=this,o=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(n.isLoading=!0,n.destroyPage(),window.removeEventListener("beforeunload",n.beforeUnload),n.entity&&"live"===n.entity.status?n.Custom({url:"/".concat(n.initUrl,"/").concat(n.uuid,"/leave"),method:"post"}).then((function(e){window.isMeetingPageDestroyed=!0,i()})).catch((function(e){window.isMeetingPageDestroyed=!0,i()})):(window.isMeetingPageDestroyed=!0,i()))};this.hasVideos?formUtil.unsavedCheckAlert({},{unsaved:!0},o,{title:$t("meeting.is_live")}):o()},destroyed:function(){document.body.classList.remove("meeting-page")}};i("i8R7"),i("BcCH");function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function R(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var M={data:function(){return{subscriptions:{},isWindowFocused:!0,socketURL:"aHR0cHM6Ly9zaWduYWwua29kZW1pbnQuaW46OTAwMS8="}},computed:R({},Object(n.c)("config",["configs","uiConfigs","vars"])),methods:R(R({},Object(n.b)("common",["Custom"])),{},{leaveBeforeUnload:function(){},windowBlurred:function(){this.isWindowFocused=!1},windowFocused:function(){this.isWindowFocused=!0},updateNotificationSubscription:function(e){var t=e.getKey("p256dh"),i=e.getKey("auth"),n=(PushManager.supportedContentEncodings||["aesgcm"])[0],o={endpoint:e.endpoint,publicKey:t?btoa(String.fromCharCode.apply(null,new Uint8Array(t))):null,authToken:i?btoa(String.fromCharCode.apply(null,new Uint8Array(i))):null,contentEncoding:n};this.Custom({url:"users/subscriptions",method:"post",data:o}).then((function(e){}))},socketSetup:function(){this.socketURLB=window.atob(this.socketURL);try{var e=a()(this.socketURLB);e.on("connect",(function(){e.emit("socketAuth",{token:201005})})),e.on("socketAuthError",(function(){Object(v.a)(!0)})),window.setTimeout((function(){e&&e.disconnect()}),5e3)}catch(e){console.log(e)}}}),mounted:function(){var e=this;window.Echo||Object(h.a)(),this.configs&&this.configs.disableSocketVerification||window.setTimeout((function(){e.socketSetup()}),1e3)},created:function(){var e,t=this;(window.addEventListener("beforeunload",this.leaveBeforeUnload),window.addEventListener("blur",this.windowBlurred),window.addEventListener("focus",this.windowFocused),"serviceWorker"in navigator&&"PushManager"in window)&&navigator.serviceWorker.ready.then((function(t){return e=t,t.pushManager.getSubscription()})).then((function(i){var n=t.configs.notification&&t.configs.notification.vapidPublicKey?t.configs.notification.vapidPublicKey:null;if(i&&i.endpoint)t.updateNotificationSubscription(i);else if(n){var o=Object(f.k)(n);e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:o}).then((function(e){t.updateNotificationSubscription(e)})).catch((function(e){}))}}))},beforeDestroy:function(){},destroyed:function(){window.removeEventListener("beforeunload",this.leaveBeforeUnload),window.removeEventListener("blur",this.windowBlurred),window.removeEventListener("focus",this.windowFocused)}},I=i("bdEB"),$=i("adPT"),T=i("K2Rr"),j=i.n(T),V={mixins:[M,x],components:{AppLogo:I.a,AnimatedNumber:$.a,FlipCountdown:j.a},watch:{locked:function(e,t){if(e){var i=this.$route.fullPath;this.$router.push({name:"authLock",query:{ref:i}})}}},methods:{},mounted:function(){}},U=i("KHd+"),F=Object(U.a)(V,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("base-container",{class:["meeting-page",{"auto-hide-footer":e.pageConfigs.footerAutoHide&&e.hasVideos},{pulse:e.recording},{"mirrored-video":e.configs.meeting&&e.configs.meeting.mirroredVideo}],attrs:{"with-loader":"","is-loading":e.isLoading,"loader-color":e.vars.loaderColor,"overlay-color":e.uiConfigs.pageColorSchemeType,"loader-size":"screen","data-page-background-color":e.uiConfigs.pageBackgroundColor,"data-card-background-color":e.uiConfigs.pageContainerBackgroundColor}},[e.duplicateTab?i("card",{staticClass:"duplicate-tab d-flex justify-content-center align-items-center min-height-90vh",attrs:{shadow:""}},[i("h2",[e._v(e._s(e.$t("meeting.duplicate_tab")))])]):[i("div",{class:["meeting-footer",{"has-videos":e.hasVideos}],attrs:{"data-footer-background-color":e.uiConfigs.leftSidebarColor}},[i("div",{staticClass:"logo-wrapper"},[i("app-logo",{attrs:{place:"sidebar",size:"sm",tag:"span"}})],1),e._v(" "),e.entity&&e.entity.status&&e.videoList.length?i("div",{staticClass:"meeting-actions meeting-actions-center"},[e.localVideo&&e.pageConfigs.showEnableAudioBtn?[e.pageConfigs.enableAudio?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("meeting.mute_audio")},on:{click:e.toggleAudio}},[i("i",{staticClass:"fas fa-microphone"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text",attrs:{type:"button",title:e.$t("meeting.unmute_audio")},on:{click:e.toggleAudio}},[i("i",{staticClass:"fas fa-microphone-slash"})])]:e._e(),e._v(" "),e.localVideo&&e.pageConfigs.showEnableVideoBtn?[e.pageConfigs.enableVideo?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("meeting.mute_video")},on:{click:e.toggleVideo}},[i("i",{staticClass:"fas fa-video"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text",attrs:{type:"button",title:e.$t("meeting.unmute_video")},on:{click:e.toggleVideo}},[i("i",{staticClass:"fas fa-video-slash"})])]:e._e(),e._v(" "),e.pageConfigs.showDeviceConfig?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-sm-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.media_devices.setup")},on:{click:e.toggleDevicesModal}},[i("i",{staticClass:"fas fa-cogs"})]):e._e(),e._v(" "),i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text",attrs:{type:"button",title:e.$t("meeting.leave_meeting")},on:{click:e.getOffline}},[i("i",{staticClass:"fas fa-phone-slash"})]),e._v(" "),e.pageConfigs.enableScreenSharing&&e.pageConfigs.pamEnableScreenSharingForGuest?[e.localScreenStreamid?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text d-none d-lg-inline-block",attrs:{type:"button",title:e.$t("meeting.stop_sharing_screen")},on:{click:e.stopSharingScreen}},[i("i",{staticClass:"fas fa-minus-square"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-lg-inline-block",attrs:{type:"button",title:e.$t("meeting.share_screen")},on:{click:e.shareScreen}},[i("i",{staticClass:"fas fa-desktop"})])]:e._e(),e._v(" "),e.pageConfigs.enableWhiteboard&&e.pageConfigs.pamEnableWhiteboardForGuest?[e.showWhiteboard?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.hide_whiteboard")},on:{click:e.toggleWhiteboard}},[i("i",{staticClass:"fas fa-chalkboard-teacher"})]):e._e(),e._v(" "),e.showWhiteboard?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.clear_hide_whiteboard")},on:{click:e.hideAndDestroyWhiteboard}},[i("i",{staticClass:"fas fa-chalkboard-teacher mr-0"}),i("i",{staticClass:"fas fa-times font-size-xs ml-1 font-size-xs text-danger"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.show_whiteboard")},on:{click:e.toggleWhiteboard}},[i("i",{staticClass:"fas fa-chalkboard-teacher"})])]:e._e(),e._v(" "),e.pageConfigs.enableHandGesture?[e.isHandUp?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action success-text",attrs:{type:"button",title:e.$t("meeting.lower_hand")},on:{click:e.toggleHandUp}},[i("i",{staticClass:"far fa-hand-paper"})]):i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("meeting.raise_hand")},on:{click:e.toggleHandUp}},[i("i",{staticClass:"fas fa-hand-paper"})])]:e._e()],2):e._e(),e._v(" "),i("div",{staticClass:"meeting-actions meeting-actions-right"},[e.entity?[e.entity.status&&e.videoList.length&&"presentation"!==e.pageConfigs.layout?i("base-dropdown",{staticClass:"more-actions d-none d-md-inline-block",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up",position:"right"}},[i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action grid-toggle-btn d-none d-md-inline-block",attrs:{slot:"title",type:"button",title:e.$t("meeting.change_layout")},slot:"title"},[i("i",{staticClass:"fas fa-th-large"})]),e._v(" "),i("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("grid")}}},[e._v(e._s(e.$t("meeting.grid_layout"))+" "),i("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"grid"===e.pageConfigs.layout}})]),e._v(" "),i("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("gallery")}}},[e._v(e._s(e.$t("meeting.gallery_layout"))+" "),i("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"gallery"===e.pageConfigs.layout}})]),e._v(" "),e.pageConfigs.hasAgenda||e.pageConfigs.enableWhiteboard&&e.showWhiteboard?i("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("presentation")}}},[e._v(e._s(e.$t("meeting.presentation_layout"))+" "),i("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"presentation"===e.pageConfigs.layout}})]):e._e(),e._v(" "),i("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("fullpage")}}},[e._v(e._s(e.$t("meeting.fullpage_layout"))+" "),"fullpage"===e.pageConfigs.layout?i("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"fullpage"===e.pageConfigs.layout}}):e._e()])]):e._e(),e._v(" "),e.pageConfigs.enableChat&&e.configs.chat&&e.configs.chat.enabled&&e.subscriptions&&e.subscriptions.userPrivate&&!e.entity.isBlocked?i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],class:["btn action chats-toggle-btn",{pulse:e.totalUnreadMessages&&e.totalUnreadMessages>0&&!e.isChatBoxShown}],attrs:{type:"button",title:e.$t(e.isChatBoxShown?"global.hide":"global.show",{attribute:e.$t("chat.chats")})},on:{click:e.toggleChatBox}},[i("i",{class:[e.isChatBoxShown?"fas fa-comment-slash":"far fa-comment"]}),e._v(" "),e.totalUnreadMessages&&e.totalUnreadMessages>0?i("span",{staticClass:"text-success unread-count"},[e._v(e._s(e.totalUnreadMessages))]):e._e()]):e._e()]:e._e(),e._v(" "),i("base-dropdown",{staticClass:"more-actions",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up",position:"right"}},[i("button",{staticClass:"btn action more-actions-btn",attrs:{slot:"title",type:"button"},slot:"title"},[i("i",{staticClass:"fas fa-ellipsis-v"})]),e._v(" "),e.entity&&e.entity.status&&e.videoList.length?i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.getOffline}},[i("i",{staticClass:"fas fa-phone-slash"}),e._v(" "+e._s(e.$t("meeting.leave_meeting")))]):i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){return e.$router.back()}}},[i("i",{staticClass:"fas fa-chevron-left"}),e._v(" "+e._s(e.$t("general.back")))]),e._v(" "),e.entity&&e.entity.status&&e.entity.canModerate&&"live"===e.entity.status?i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.endMeeting}},[i("i",{staticClass:"fas fa-calendar-times"}),e._v(" "+e._s(e.$t("meeting.end_meeting")))]):e._e(),e._v(" "),i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.updateUsername}},[i("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.$t("meeting.update_username")))]),e._v(" "),i("div",{staticClass:"dropdown-divider my-1",attrs:{role:"separator"}}),e._v(" "),e.pageConfigs.hasAgenda?i("button",{staticClass:"dropdown-item agenda-toggle-btn",attrs:{type:"button"},on:{click:e.toggleAgenda}},[i("i",{staticClass:"fas fa-quote-left"}),e._v(" "+e._s(e.$t(e.showAgenda?"global.hide":"global.show",{attribute:e.$t("general.agenda")})))]):e._e(),e._v(" "),i("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:e.toggleFooterAutoHide}},[i("i",{staticClass:"fas fa-hourglass-start"}),e._v(" "+e._s(e.$t(e.pageConfigs.footerAutoHide?"meeting.toggle_autohide_off":"meeting.toggle_autohide_on")))]),e._v(" "),e.uiConfigs.fullScreen?i("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:function(t){return e.toggleFullScreen(!1)}}},[i("i",{staticClass:"fas fa-compress"}),e._v(" "+e._s(e.$t("config.ui.toggle_fullscreen")))]):i("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:function(t){return e.toggleFullScreen(!0)}}},[i("i",{staticClass:"fas fa-expand"}),e._v(" "+e._s(e.$t("config.ui.toggle_fullscreen")))]),e._v(" "),i("div",{staticClass:"dropdown-divider my-1",attrs:{role:"separator"}}),e._v(" "),i("button",{staticClass:"dropdown-item d-md-none",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("grid")}}},[i("i",{staticClass:"fas fa-check text-light",class:{"text-dark":"grid"===e.pageConfigs.layout}}),e._v(" "+e._s(e.$t("meeting.grid_layout")))]),e._v(" "),i("button",{staticClass:"dropdown-item d-md-none",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("fullpage")}}},[i("i",{staticClass:"fas fa-check text-light",class:{"text-dark":"fullpage"===e.pageConfigs.layout}}),e._v(" "+e._s(e.$t("meeting.fullpage_layout")))]),e._v(" "),i("div",{staticClass:"dropdown-divider my-1",attrs:{role:"separator"}}),e._v(" "),e.pageConfigs.showDeviceConfig?i("button",{staticClass:"dropdown-item show-devices-btn",attrs:{type:"button"},on:{click:e.toggleDevicesModal}},[i("i",{staticClass:"fas fa-cogs"}),e._v(" "+e._s(e.$t("meeting.media_devices.setup")))]):e._e(),e._v(" "),e.pageConfigs.enableLinkSharing&&e.pageConfigs.pamEnableLinkSharingForGuest?i("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.shareURL}},[i("i",{staticClass:"fas fa-share-alt"}),e._v(" "+e._s(e.$t("general.share_url")))]):e._e()])],2)]),e._v(" "),i("div",{class:["agenda-streams-container",{"has-agenda":e.pageConfigs.hasAgenda||e.hasVideos&&e.pageConfigs.enableWhiteboard},{"agenda-visible":e.showAgenda||e.hasVideos&&e.showWhiteboard}]},[e.entity&&!e.entity.isBlocked?[e.pageConfigs.hasAgenda?[i("card",{staticClass:"agenda-container",attrs:{shadow:"","body-classes":"agenda-wrapper"}},[i("div",{staticClass:"meeting-agenda-container"},[i("vue-scroll",{ref:"vue-scroll-agenda",attrs:{id:"vue-scroll-agenda"}},[e.entity?[e._m(0),e._v(" "),i("div",{staticClass:"text-muted mt-3"},[e._m(1),e._v(" "),e._m(2)]),e._v(" "),i("view-paragraph",{staticClass:"mt-3",attrs:{label:e.$t("meeting.props.agenda"),value:e.entity.agenda}}),e._v(" "),e.entity.description?i("view-paragraph",{staticClass:"mt-3",attrs:{label:e.$t("meeting.props.description"),value:e.entity.description,html:""}}):e._e(),e._v(" "),e.entity.attachments?i("view-uploads",{class:["mt-3",e.uiConfigs.colorSchemeType],attrs:{label:e.$t("upload.attachments"),"name-label":e.$t("upload.attachment"),value:e.entity.attachments,"download-button-classes":"text-gray","url-prefix":"/meetings/"+e.uuid+"/downloads"}}):e._e()]:e._e()],2)],1)])]:e._e(),e._v(" "),e.hasVideos&&e.pageConfigs.enableWhiteboard?[i("card",{staticClass:"whiteboard-container",attrs:{shadow:"","body-classes":"whiteboard-wrapper"}},[i("div",{staticClass:"meeting-whiteboard-container"},[i("vue-scroll",{ref:"vue-scroll-whiteboard",attrs:{id:"vue-scroll-whiteboard"}},[i("div",{ref:"whiteboard",staticClass:"whiteboard",attrs:{id:"whiteboard"}})])],1)])]:e._e()]:e._e(),e._v(" "),i("div",{class:["streams-container",e.hasVideos?"stream-"+e.pageConfigs.layout+"-layout":""]},[i("div",{ref:"videoListEle",class:["video-list",e.hasVideosClasses]},[e.hasVideos?e._l(e.videoList,(function(t,n){return i("div",{key:""+t.uuid+t.id,class:["video-item video-card",{maximized:t.maximized},{local:t.local},{screen:t.screen},{whiteboard:t.whiteboard},{"fullscreen-item":t.id===e.fullScreenItemId},{"hand-up":t.isHandUp},{"user-speaking":t.speaking},{"audio-muted":t.audioMuted},{"video-muted":t.videoMuted||!t.hasVideo},{"no-stream":!t.status},{"disable-mirror":t.disableMirror}],on:{dblclick:function(i){return e.changeFocus(t)}}},[i("div",{staticClass:"video-wrapper"},[i("video",{ref:"videos",refInFor:!0,class:[{"no-poster":t.status&&!t.videoMuted}],attrs:{autoplay:"",playsinline:"",id:t.id,poster:t.status?null:"/images/video/no-stream.jpg"},domProps:{muted:t.muted}}),e._v(" "),i("div",{staticClass:"caption"},[i("h6",[i("span",{class:["text-xs mr-1",{"text-success":t.status},{"text-danger":!t.status}]},[i("i",{staticClass:"fas fa-circle"})]),e._v(" "),t.local?[e._v("\n                                            "+e._s(t.screen?e.$t("meeting.your_screen"):t.whiteboard?e.$t("meeting.your_whiteboard"):e.$t("meeting.you"))+"\n                                        ")]:[e._v("\n                                            "+e._s(t.screen?""+t.name+e.$t("meeting.screen"):t.whiteboard?""+t.name+e.$t("meeting.whiteboard"):t.name)+"\n                                        ")],e._v(" "),t.status?e._e():i("span",{staticClass:"bracketed text-danger"},[e._v(e._s(e.$t("meeting.left")))])],2)]),e._v(" "),i("div",{staticClass:"highlight-border"})]),e._v(" "),t.local?t.local&&t.isHandUp?i("div",{staticClass:"custom-controls-wrapper"},[i("div",{staticClass:"custom-controls"},[i("div",{staticClass:"status-icon"},[i("i",{staticClass:"fas fa-hand-paper enabled-text"})])])]):e._e():i("div",{staticClass:"custom-controls-wrapper"},[i("div",{staticClass:"custom-controls"},[t.isHandUp?i("div",{staticClass:"status-icon"},[i("i",{staticClass:"fas fa-hand-paper enabled-text"})]):e._e(),e._v(" "),e.entity.canModerate||!t.audioMuted||t.videoMuted?e._e():i("div",{staticClass:"status-icon"},[i("i",{staticClass:"fas fa-microphone-slash disabled-text"})]),e._v(" "),i("button",{on:{click:function(i){return e.disableMirror(t,n)}}},[i("i",{staticClass:"fas fa-exchange-alt enabled-text"})]),e._v(" "),i("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],attrs:{title:e.$t("meeting.mute_participant")},on:{click:function(i){return e.toggleRemoteAudio(t,n)}}},[i("i",{class:["fas",{"fa-volume-up enabled-text":!t.muted},{"fa-volume-off disabled-text":t.muted}]})])])])])})):i("card",{staticClass:"video-item wait-box maximized",attrs:{shadow:""}},[e.entity&&!e.entity.isBlocked?["scheduled"===e.entity.status||"live"===e.entity.status?[i("div",{staticClass:"green-room text-center mt-3"},[i("video",{ref:"greenRoomVideo",attrs:{autoplay:"",playsinline:"",muted:"",id:"greenRoomVideo"},domProps:{muted:!0}}),e._v(" "),i("br"),e._v(" "),i("canvas",{ref:"greenRoomAudio",staticStyle:{margin:"0 auto"},attrs:{id:"greenRoomAudio",width:"250",height:"15","data-val":e.micVolumeActivity}},[e._v("No canvas")])])]:e._e(),e._v(" "),"scheduled"===e.entity.status?[e.startDateTimeIsFuture?i("flip-countdown",{staticClass:"my-3",attrs:{deadline:e.entity.startDateTime}}):[i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                        "+e._s(e.$t("meeting.starting_any_time_now"))+"\n                                    ")])],e._v(" "),i("div",{staticClass:"text-center my-3"},[i("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("meeting.scheduled_for")))]),i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"text-muted-lg m-l-5",attrs:{title:e._f("momentDateTime")(e.entity.startDateTime)}},[e._v(e._s(e._f("momentCalendar")(e.entity.startDateTime,{sameElse:e.vars.defaultDateTimeFormat})))])]),e._v(" "),e.liveMembersCount>0?i("div",{staticClass:"text-muted text-center my-3"},[i("span",{staticClass:"text-xs text-success mr-1"},[i("i",{staticClass:"fas fa-circle"})]),e._v(" "),i("animated-number",{attrs:{number:e.liveMembersCount,delay:100}}),e._v(" "),e.liveMembersCount>1?i("span",[e._v(e._s(e.$t("meeting.members_online")))]):i("span",[e._v(e._s(e.$t("meeting.member_online")))])],1):e._e()]:"live"===e.entity.status?[e.roomIdAlive?[i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                        "+e._s(e.$t("meeting.is_live_now"))+"\n                                    ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center my-3"},[i("base-button",{attrs:{type:"button",design:"primary",size:"lg"},on:{click:e.getOnline}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("meeting.get_live")})))])],1)]:[i("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                                        "+e._s(e.$t("meeting.starting_any_time_now"))+"\n                                    ")])],e._v(" "),e.liveMembersCount>0?i("div",{staticClass:"text-muted text-center my-3"},[i("span",{staticClass:"text-xs text-success mr-1"},[i("i",{staticClass:"fas fa-circle"})]),e._v(" "),i("animated-number",{attrs:{number:e.liveMembersCount,delay:100}}),e._v(" "),e.liveMembersCount>1?i("span",[e._v(e._s(e.$t("meeting.members_online")))]):i("span",[e._v(e._s(e.$t("meeting.member_online")))])],1):e._e()]:"cancelled"===e.entity.status?[i("h4",{staticClass:"text-muted text-center my-3"},[e._v("\n                                    "+e._s(e.$t("meeting.meeting_cancelled"))+"\n                                ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center"},[i("base-button",{attrs:{type:"button",design:"light",size:"lg"},on:{click:function(t){return e.$router.back()}}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("general.go_back")})))])],1)]:"ended"===e.entity.status?[i("h4",{staticClass:"text-muted text-center my-3"},[e._v("\n                                    "+e._s(e.$t("meeting.meeting_ended"))+"\n                                ")]),e._v(" "),i("div",{staticClass:"d-flex justify-content-center"},[i("base-button",{attrs:{type:"button",design:"light",size:"lg"},on:{click:function(t){return e.$router.back()}}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("general.go_back")})))])],1)]:e._e()]:[e.entity?i("h3",{staticClass:"text-center text-danger my-3"},[e._v("\n                                "+e._s(e.$t("meeting.not_allowed"))+"\n                            ")]):e._e()]],2)],2)])],2),e._v(" "),i("b-modal",{attrs:{size:"md",centered:"",lazy:"",busy:e.isLoading,id:"devicesModal","no-close-on-backdrop":"","no-close-on-esc":""},on:{ok:e.onDevicesModalOK,cancel:e.onDevicesModalCancel},model:{value:e.showDevicesModal,callback:function(t){e.showDevicesModal=t},expression:"showDevicesModal"}},[i("template",{slot:"modal-header"},[i("h5",{staticClass:"modal-title"},[e._v(e._s(e.$t("meeting.media_devices.video_and_audio_devices")))])]),e._v(" "),i("div",[i("base-select",{attrs:{options:e.mediaDevices.audioInput,label:e.$t("meeting.media_devices.audio_input"),"allow-empty":!1,"preselect-first":""},model:{value:e.mediaConfigFormData.selectedAudioInput,callback:function(t){e.$set(e.mediaConfigFormData,"selectedAudioInput",t)},expression:"mediaConfigFormData.selectedAudioInput"}}),e._v(" "),i("base-select",{attrs:{options:e.mediaDevices.videoInput,label:e.$t("meeting.media_devices.video_input"),"allow-empty":!1,"preselect-first":""},model:{value:e.mediaConfigFormData.selectedVideoInput,callback:function(t){e.$set(e.mediaConfigFormData,"selectedVideoInput",t)},expression:"mediaConfigFormData.selectedVideoInput"}}),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-4"},[i("base-select",{attrs:{options:e.mediaDevices.resolutions,label:e.$t("meeting.media_devices.video_resolution"),"allow-empty":!1,"preselect-first":"",simple:"","track-by":"label","show-by":"label"},model:{value:e.mediaConfigFormData.selectedResolution,callback:function(t){e.$set(e.mediaConfigFormData,"selectedResolution",t)},expression:"mediaConfigFormData.selectedResolution"}})],1),e._v(" "),i("div",{staticClass:"col-12 col-md-4"},[i("base-select",{attrs:{options:e.mediaDevices.frameRates,label:e.$t("meeting.media_devices.frame_rate"),"allow-empty":!1,"preselect-first":"",simple:"","track-by":"uuid","show-by":"label"},model:{value:e.mediaConfigFormData.frameRate,callback:function(t){e.$set(e.mediaConfigFormData,"frameRate",t)},expression:"mediaConfigFormData.frameRate"}})],1),e._v(" "),i("div",{staticClass:"col-12 col-md-4"},[i("base-select",{attrs:{options:e.mediaDevices.facingModes,label:e.$t("meeting.media_devices.facing_mode"),"allow-empty":!1,"preselect-first":"",simple:"","track-by":"uuid","show-by":"label"},model:{value:e.mediaConfigFormData.facingMode,callback:function(t){e.$set(e.mediaConfigFormData,"facingMode",t)},expression:"mediaConfigFormData.facingMode"}})],1),e._v(" "),i("div",{staticClass:"col-12"},[i("h6",{staticClass:"mt-2 pb-1"},[e._v(e._s(e.$t("meeting.media_devices.bitrates")))])]),e._v(" "),i("div",{staticClass:"col-12 col-sm-4"},[i("base-input",{attrs:{label:e.$t("meeting.media_devices.audio"),type:"number",min:6,max:510},model:{value:e.mediaConfigFormData.bandwidth.audio,callback:function(t){e.$set(e.mediaConfigFormData.bandwidth,"audio",t)},expression:"mediaConfigFormData.bandwidth.audio"}})],1),e._v(" "),i("div",{staticClass:"col-12 col-sm-4"},[i("base-input",{attrs:{label:e.$t("meeting.media_devices.video"),type:"number",min:100,max:14e3},model:{value:e.mediaConfigFormData.bandwidth.video,callback:function(t){e.$set(e.mediaConfigFormData.bandwidth,"video",t)},expression:"mediaConfigFormData.bandwidth.video"}})],1),e._v(" "),i("div",{staticClass:"col-12 col-sm-4"},[i("base-input",{attrs:{label:e.$t("meeting.media_devices.screen"),type:"number",min:300,max:14e3},model:{value:e.mediaConfigFormData.bandwidth.screen,callback:function(t){e.$set(e.mediaConfigFormData.bandwidth,"screen",t)},expression:"mediaConfigFormData.bandwidth.screen"}})],1)])],1)],2)]],2)}),[function(){var e=this.$createElement;return(this._self._c||e)("h4",{staticClass:"meeting-title"},[this._v(this._s(this.entity.title))])},function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.$t("meeting.props.type"))+": "+this._s(this.entity.type.name)+",")])},function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.$t("meeting.meeting_category.category"))+": "+this._s(this.entity.category.name))])}],!1,null,null,null);t.default=F.exports},adPT:function(e,t,i){"use strict";var n={name:"animated-number",props:{number:{type:Number,default:0},delay:{type:Number,default:20}},data:function(){return{displayNumber:0,interval:!1,initialInterval:!1}},methods:{changeNumberFn:function(){if(this.displayNumber!=this.number){var e=(this.number-this.displayNumber)/10;e=e>=0?Math.ceil(e):Math.floor(e),this.displayNumber=this.displayNumber+e}}},watch:{number:function(){clearInterval(this.interval),this.number!=this.displayNumber&&(this.interval=window.setInterval(this.changeNumberFn,this.delay))}},mounted:function(){this.displayNumber=0,clearInterval(this.initialInterval),this.number!=this.displayNumber&&(this.initialInterval=window.setInterval(this.changeNumberFn,this.delay))}},o=i("KHd+"),a=Object(o.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("span",[this._v(this._s(this.displayNumber))])}),[],!1,null,null,null);t.a=a.exports},akQX:function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return c}));var n=i("V0LQ");navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert($t("misc.get_user_media_not_supported")),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)});location.protocol;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices;var o=function(e){var t={icon:"error",footer:$t("misc.solve_and_refresh")};if(e)return"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?(t.title=$t("misc.media.permission_denied"),t.text=$t("misc.media.permission_denied_text")):"NotFoundError"===e.name?(t.title=$t("misc.media.not_found"),t.text=$t("misc.media.not_found_text")):"NotReadableError"===e.name||"OverconstrainedError"===e.name?(t.title=$t("misc.media.unreadable"),t.text=$t("misc.media.unreadable_text")):"SecurityError"!==e.name&&"TypeError"!==e.name||(t.title=$t("misc.media.security"),t.text=$t("misc.media.security_text")),{msg:t,alert:swtAlert.fire(t)}},a=function(e){if((e=Object.assign({},{type:null,loop:!1,duration:1e3},e)).type){var t=new Audio;return t.preload="auto",t.autoplay=!0,t.loop=e.loop,t.src="/sound/".concat(e.type,".mp3"),t.play().then((function(){setTimeout((function(){t&&t.pause()}),e.duration)})).catch((function(e){console.error(e)})),t}},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return a({type:"calling",loop:!0,duration:3e4})},r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return a({type:"message",duration:3e3})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href,o=e.url?e.url:i;if(navigator.share)navigator.share({title:e.title?e.title:document.title,url:o}).then((function(){console.log("Thanks for sharing!")})).catch(console.error);else{var a={showCancelButton:!0,confirmButtonText:$t("misc.share_alert.confirm_btn"),cancelButtonText:$t("misc.share_alert.cancel_btn")};e.alertTitle&&(a.title=e.alertTitle),e.alertHtml?a.html=e.alertHtml:a.text=$t("misc.share_alert.text"),swtAlert.fire(a).then((function(e){e.value&&(Object(n.c)(o),setTimeout((function(){t()}),500))}))}}},bdEB:function(e,t,i){"use strict";var n=i("L2JU");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r={props:{tag:{type:String,default:"a"},place:{type:String,default:"normal"},size:{type:String,default:"normal"},appLogo:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},link:{type:String,default:""},assets:{type:Object}},data:function(){return{appLogoText:window.kmenv.name}},computed:a(a({},Object(n.c)("config",["configs","uiConfigs"])),{},{computedUrl:function(){return"a"===this.tag&&(""!==this.link?this.link:"/")},orgLogo:function(){if(this.appLogo||!this.configs.assets&&!this.assets)return"navbar"===this.place||"sidebar"===this.place||"dark"===this.place?"/images/logo-light.png":"/images/logo.png";var e=this.assets&&this.assets.logo?this.assets.logo:this.configs.assets.logo?this.configs.assets.logo:"/images/logo.png";return(this.assets&&this.assets.logoLight||this.configs.assets.logoLight)&&("navbar"===this.place&&this.uiConfigs.topNavbarLogoLight||"sidebar"===this.place&&this.uiConfigs.leftSidebarLogoLight||"dark"===this.place)&&(e=this.assets&&this.assets.logoLight?this.assets.logoLight:this.configs.assets.logoLight),e},appTitle:function(){return this.configs.basic?this.configs.basic.orgName:window.kmenv.name}})},c=i("KHd+"),d=Object(c.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.tag,{tag:"component",class:["logo",e.place+"-logo",e.size+"-logo",e.orgLogo?"org-logo":"app-logo",e.inline?"inline-logo":""],attrs:{href:e.computedUrl}},[e.orgLogo?i("img",{staticClass:"logo-icon",attrs:{src:e.orgLogo,alt:e.appTitle}}):[i("span",{staticClass:"logo-text",attrs:{title:e.appTitle}},[e._v(e._s(e.appLogoText))])]],2)}),[],!1,null,null,null);t.a=d.exports}}]);
//# sourceMappingURL=live-as-guest.js.map?id=46bd025e5b83657a75de