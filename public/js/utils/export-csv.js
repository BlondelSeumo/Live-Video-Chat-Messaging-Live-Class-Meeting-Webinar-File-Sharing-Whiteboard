(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{LBS4:function(n,t,e){"use strict";e.r(t),e.d(t,"downloadFile",(function(){return j}));var r=e("o0o1"),o=e.n(r);function a(n){return"[object Array]"===Object.prototype.toString.call(n)}function c(n,t){if(!n)throw new Error(t)}function i(n){return Object.keys(n).map((function(t){return n[t]}))}function u(n){return Object.keys(n)}function l(n){return Object.keys(n).map((function(t){return[t,n[t]]}))}function d(n,t){var e="."+t,r=new RegExp("(\\"+t+")?$");return n.replace(/\s+/,"_").replace(r,e)}function f(n,t,e){void 0===e&&(e="download");var r=function(n,t){switch(t){case"txt":return"data:text/plain;charset=utf-8,"+encodeURIComponent(n);case"json":return"data:application/json;charset=utf-8,"+encodeURIComponent(n);case"csv":return"data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(n);case"xls":return"data:application/vnd.ms-excel;charset=utf-8,"+encodeURIComponent(n);case"xml":return"data:application/xml;charset=utf-8,"+encodeURIComponent(n);default:return""}}(n,t),o=document.createElement("a");o.href=r,o.download=e,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}var s,p=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,a=e.call(n),c=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)c.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return c};function v(n){return n.map(l).reduce((function(t,e,r){return e.reduce((function(t,e){var o=e[0],a=e[1],c=t[o]||Array.from({length:n.length}).map((function(n){return""}));return c[r]=("string"!=typeof a?JSON.stringify(a):a)||"",t[o]=c,t}),t)}),Object.create(null))}function m(n){return n.length?'<html>\n  <head>\n    <meta charset="UTF-8">\n  </head >\n  <body>\n    '+function(n){c(n.length>0);var t=v(n),e=u(t),r=i(t).map((function(n){return n.map((function(n){return"<td>"+n+"</td>"}))})).reduce((function(n,t){return n.map((function(n,e){return""+n+t[e]}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>"+e.join("</b></th><th><b>")+"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>"+r.join("</tr>\n        <tr>")+"</tr>\n      </tbody>\n    </table>\n  "}(n)+"\n  </body>\n</html >\n":""}function h(n){return'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'+function n(t,e,r,o){void 0===r&&(r="element");void 0===o&&(o=0);var c=(u=e,"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),u.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")),i=function(n){return Array(n+1).join(" ")}(o);var u;if(null==t)return i+"<"+c+" />";var d=a(t)?t.map((function(t){return n(t,r,r,o+2)})).join("\n"):"object"==typeof t?l(t).map((function(t){var e=p(t,2),a=e[0],c=e[1];return n(c,a,r,o+2)})).join("\n"):i+"  "+(f=String(t),f.replace(/([<>&])/g,(function(n,t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})));var f;return i+"<"+c+">\n"+d+"\n"+i+"</"+c+">"}(n,"base")+"\n"}function y(n){var t=n.data,e=n.fileName,r=void 0===e?"download":e,o=n.exportType,l=void 0===o?"txt":o,s=n.replacer,p=void 0===s?null:s,y=n.space,x=void 0===y?4:y,w=n.processor,b=void 0===w?f:w,j=n.withBOM,g=void 0!==j&&j,O=n.delimiter,S=void 0===O?",":O,C="Can't export unknown data type "+l+".",I=function(n){try{return"string"==typeof n?JSON.parse(n):n}catch(n){throw new Error("Invalid export data. Please provide a valid JSON")}}(t),k=function(n,t,e){void 0===t&&(t=null);try{return JSON.stringify(n,t,e)}catch(n){throw new Error("Invalid export data. Please provide valid JSON object")}}(I,p,x);switch(l){case"txt":return b(k,l,d(r,"txt"));case"json":return b(k,l,d(r,"json"));case"csv":c(a(I),"Invalid export data. Please provide an array of object");var E=function(n,t){if(void 0===t&&(t=","),!n.length)return"";var e=v(n);return u(e).join(t)+"\r\n"+i(e).map((function(n){return n.map((function(n){return'"'+n.replace(/\"/g,'""')+'"'}))})).reduce((function(n,e){return n.map((function(n,r){return""+n+t+e[r]}))})).join("\r\n")}(I,S);return b(g?"\ufeff"+E:E,l,d(r,"csv"));case"xls":return c(a(I),"Invalid export data. Please provide an array of object"),b(m(I),l,d(r,"xls"));case"xml":return b(h(I),l,d(r,"xml"));default:throw new Error(C)}}(s=y||(y={})).types={txt:"txt",json:"json",csv:"csv",xls:"xls",xml:"xml"},s.processors={downloadFile:f};var x=y;function w(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function b(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function c(n){w(a,r,o,c,i,"next",n)}function i(n){w(a,r,o,c,i,"throw",n)}c(void 0)}))}}function j(n,t){return g.apply(this,arguments)}function g(){return(g=b(o.a.mark((function n(t,e){var r,a=arguments;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a.length>2&&void 0!==a[2]?a[2]:"download",x({data:t,fileName:r,exportType:e});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=export-csv.js.map?id=b806dcf3accfd5225d30